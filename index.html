<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Bad camera.</title>
	
	<meta name="author" content="Mike Almond">
	<meta name="copyright" content="Mike Almond, 2016">
	<meta name="description" content="A bad camera.">
	<meta name="keywords" content="glitch,jpeg,webcam,camera,html5,Haxe,OpenFL">
	<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	
	<script type="text/javascript" src="./lib/screenfull.min.js"></script>
	<script type="text/javascript" src="./lib/getUserMedia.min.js"></script>
	<script type="text/javascript" src="./imgfkr.min.js"></script>
	<script>
		window.addEventListener ("touchmove", function (event) { event.preventDefault (); }, false);
		if (typeof window.devicePixelRatio != 'undefined' && window.devicePixelRatio > 2) {
			var meta = document.getElementById ("viewport");
			meta.setAttribute ('content', 'width=device-width, initial-scale=' + (2 / window.devicePixelRatio) + ', user-scalable=no');
		}
	</script>	
	<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>	
	<link href="https://code.getmdl.io/1.1.3/material.yellow-amber.min.css" rel="stylesheet" >
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="./styles.min.css" rel="stylesheet">
</head>
<body>	
	<div id="startupLayout" class="demo-layout mdl-layout mdl-layout--fixed-header mdl-js-layout">
		<main class="demo-main mdl-layout__content">
			<div class="demo-container mdl-grid">
				<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
				<div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
					<button id="start-camera-button" class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--accent">
						<i class="material-icons ">videocam</i>
					</button>
					<h3>Bad camera.</h3>
					<hr/>
				</div>
			</div>
		</main>
    </div>	
	<div id="errorLayout" class="demo-layout mdl-layout mdl-layout--fixed-header mdl-js-layout">
		<main class="demo-main mdl-layout__content">
			<div class="demo-container mdl-grid">
				<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
				<div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
					<i class="material-icons md-36 warning-icon">warning</i>
					<h3>Oh dear!</h3>
					<p>I can't access the camera. Sad times.</p>
					<hr/>
					<code class="warning">Error: <span id="errorMessage"></span></code>
				</div>
			</div>
		</main>
    </div>		
	<div id="controls">
		<button id="fullscreen-button" class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored">
			<i class="material-icons ">fullscreen</i>
		</button>
		<button id="stop-camera-button" class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--accent">
			<i class="material-icons ">videocam_off</i>
		</button>
	</div>
	<div id="camera-container">
		<canvas id="camera-canvas" ></canvas>
		<video autoplay id="camera-video"></video>
	</div>	
	<div id="openfl-content"></div>
	<script type="text/javascript">lime.embed ("openfl-content", 0, 0, "1A1A1A");</script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	  ga('create', 'UA-76676809-1', 'auto');
	  ga('send', 'pageview');
	</script>
</body>
</html>