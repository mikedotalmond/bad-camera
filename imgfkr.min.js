(function(Id,Qb,nd){function v(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function l(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=ee++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}Qb.openfl=Qb.openfl||{};Qb.lime=Qb.lime||{};var h={},q=
function(){return F.__string_rec(this,"")},O=function(){};h.ApplicationMain=O;O.__name__=!0;O.config=null;O.preloader=null;O.create=function(){var a=new Rb;a.create(O.config);var b=new Ja;O.preloader=new Sb(b);a.setPreloader(O.preloader);O.preloader.onComplete.add(O.init);O.preloader.create(O.config);var b=[],c=[];if(null!=O.config.assetsPrefix)for(var d=0,e=b.length;d<e;){var f=d++;"FONT"!=c[f]&&(b[f]=O.config.assetsPrefix+b[f])}O.preloader.load(b,c);a.exec()};O.init=function(){O.preloader=null;
O.start()};O.main=function(){O.config={build:"1688",company:"mikedotalmond",file:"imgfkr",fps:60,name:"imgfkr",orientation:"",packageName:"mikedotalmond.tools.imgfkr",version:"1.0.0",windows:[{antialiasing:0,background:1710618,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!1,height:0,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"imgfkr",vsync:!1,width:0,x:null,y:null}]}};O.start=function(){for(var a=!1,b=Ua.resolveClass("BadCamera"),c=0,d=Ua.getClassFields(b);c<d.length;){var e=
d[c];++c;if("main"==e){a=!0;break}}Z.initialize();a?P.field(b,"main").apply(b,[]):Ua.createInstance(Tb,[]);M.current.stage.window.__fullscreen&&M.current.stage.dispatchEvent(new Ub("fullScreen",!1,!1,!0,!0));M.current.stage.dispatchEvent(new x("resize",!1,!1))};var Jd=function(){};h["openfl.events.IEventDispatcher"]=Jd;Jd.__name__=!0;var L=function(a){null!=a&&(this.__targetDispatcher=a)};h["openfl.events.EventDispatcher"]=L;L.__name__=!0;L.__interfaces__=[Jd];L.__sortByPriority=function(a,b){return a.priority==
b.priority?0:a.priority>b.priority?-1:1};L.prototype={addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);null==this.__eventMap&&(this.__dispatching=new aa,this.__eventMap=new aa,this.__newEventMap=new aa);e=this.__eventMap;if(null!=B[a]?e.existsReserved(a):e.h.hasOwnProperty(a)){e=this.__dispatching;if(1==(null!=B[a]?e.getReserved(a):e.h[a]))if(e=this.__newEventMap,null!=B[a]?e.existsReserved(a):e.h.hasOwnProperty(a))e=this.__newEventMap,e=null!=B[a]?e.getReserved(a):e.h[a];else{e=
this.__eventMap;e=(null!=B[a]?e.getReserved(a):e.h[a]).slice();var f=this.__newEventMap;null!=B[a]?f.setReserved(a,e):f.h[a]=e}else e=this.__eventMap,e=null!=B[a]?e.getReserved(a):e.h[a];a=0;for(f=e.length;a<f;){var g=a++;if(P.compareMethods(e[g].callback,b))return}e.push(new Vb(b,c,d));e.sort(L.__sortByPriority)}else e=[],e.push(new Vb(b,c,d)),b=this.__eventMap,null!=B[a]?b.setReserved(a,e):b.h[a]=e},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},
hasEventListener:function(a){if(null==this.__eventMap)return!1;var b=this.__dispatching;1==(null!=B[a]?b.getReserved(a):b.h[a])?(b=this.__newEventMap,b=null!=B[a]?b.existsReserved(a):b.h.hasOwnProperty(a)):b=!1;if(b)return b=this.__newEventMap,0<(null!=B[a]?b.getReserved(a):b.h[a]).length;b=this.__eventMap;return null!=B[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap){var d=this.__eventMap,e=null!=B[a]?d.getReserved(a):d.h[a];
if(null!=e){d=this.__dispatching;if(d=1==(null!=B[a]?d.getReserved(a):d.h[a]))if(e=this.__newEventMap,null!=B[a]?e.existsReserved(a):e.h.hasOwnProperty(a))e=this.__newEventMap,e=null!=B[a]?e.getReserved(a):e.h[a];else{var e=this.__eventMap,e=(null!=B[a]?e.getReserved(a):e.h[a]).slice(),f=this.__newEventMap;null!=B[a]?f.setReserved(a,e):f.h[a]=e}for(var f=0,g=e.length;f<g;){var h=f++;if(e[h].match(b,c)){e.splice(h,1);break}}d||(0==e.length&&this.__eventMap.remove(a),a=this.__eventMap,(new Wb(a,a.arrayKeys())).hasNext()||
(this.__newEventMap=this.__eventMap=null))}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!1;var b=a.type,c;c=this.__dispatching;if(1==(null!=B[b]?c.getReserved(b):c.h[b])){c=this.__newEventMap;c=null!=B[b]?c.getReserved(b):c.h[b];if(null==c)return!1;c=c.slice()}else{c=this.__eventMap;c=null!=B[b]?c.getReserved(b):c.h[b];if(null==c)return!1;var d=this.__dispatching;null!=B[b]?d.setReserved(b,!0):d.h[b]=!0}null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:
this);a.currentTarget=this;for(var d=1==a.eventPhase,e=0,f;e<c.length;){f=c[e];if(f.useCapture==d&&(f.callback(a),a.__isCanceledNow))break;f==c[e]&&e++}null!=this.__newEventMap?(c=this.__newEventMap,c=null!=B[b]?c.existsReserved(b):c.h.hasOwnProperty(b)):c=!1;c&&(c=this.__newEventMap,c=null!=B[b]?c.getReserved(b):c.h[b],0<c.length?(d=this.__eventMap,null!=B[b]?d.setReserved(b,c):d.h[b]=c):this.__eventMap.remove(b),c=this.__eventMap,(new Wb(c,c.arrayKeys())).hasNext()?this.__newEventMap.remove(b):
this.__newEventMap=this.__eventMap=null);b=this.__dispatching;a=a.type;null!=B[a]?b.setReserved(a,!1):b.h[a]=!1;return!0},__class__:L};var od=function(){};h["openfl.display.IBitmapDrawable"]=od;od.__name__=!0;var C=function(){this.__maskCached=this.__cacheAsBitmap=!1;L.call(this);this.__alpha=1;this.__transform=new ba;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__rotationCosine=1;this.__renderTransform=new ba;this.__offset=new ca;this.__worldOffset=new ca;this.__worldAlpha=1;this.__worldTransform=
new ba;this.__worldColorTransform=new Da;this.set_name("instance"+ ++C.__instanceCount)};h["openfl.display.DisplayObject"]=C;C.__name__=!0;C.__interfaces__=[od];C.__super__=L;C.prototype=v(L.prototype,{globalToLocal:function(a){a=a.clone();var b=this.__getWorldTransform(),c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}return a},__broadcast:function(a,b){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var c=
L.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!0:c}return!1},__dispatchEvent:function(a){var b=L.prototype.__dispatchEvent.call(this,a);if(a.__isCanceled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getInteractive:function(a){return!1},
__getRenderBounds:function(a,b){if(null==this.__scrollRect)this.__getBounds(a,b);else{var c=ma.__temp;c.copyFrom(this.__scrollRect);c.__transform(c,b);a.__expand(b.tx,b.ty,c.width,c.height)}},__getWorldTransform:function(){if(this.__transformDirty||0<C.__worldTransformDirty){var a=[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;null!=b.parent;)a.push(b),b=b.parent,b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},
__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getWorldTransform()))return null==d||e||d.push(f),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?!0:!1},__renderCairo:function(a){null!=this.__graphics&&pd.render(this,a)},__renderCairoMask:function(a){null!=this.__graphics&&
K.renderMask(this.__graphics,a)},__renderCanvas:function(a){if(null!=this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)){var b=this.__graphics;if(null!=b&&(g.render(b,a),null!=b.__canvas)){var c=a.context,d=this.get_scrollRect();if(0<b.__bounds.width&&0<b.__bounds.height&&(null==d||0<d.width&&0<d.height)){null!=this.__mask&&a.maskManager.pushMask(this.__mask);c.globalAlpha=this.__worldAlpha;var e=this.__renderTransform;a.roundPixels?c.setTransform(e.a,e.b,e.c,e.d,e.tx|0,e.ty|0):c.setTransform(e.a,
e.b,e.c,e.d,e.tx,e.ty);null==d?c.drawImage(b.__canvas,b.__bounds.x,b.__bounds.y):c.drawImage(b.__canvas,Math.ceil(b.__bounds.x+d.x),Math.ceil(b.__bounds.y+d.y),d.width,d.height,Math.ceil(b.__bounds.x+d.x),Math.ceil(b.__bounds.y+d.y),d.width,d.height);null!=this.__mask&&a.maskManager.popMask()}}}},__renderCanvasMask:function(a){null!=this.__graphics&&g.renderMask(this.__graphics,a)},__setStageReference:function(a){this.stage!=a&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),
this.dispatchEvent(new x("removedFromStage",!1,!1))),this.stage=a,null!=a&&this.dispatchEvent(new x("addedToStage",!1,!1)))},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__updateTransforms();null!=this.parent&&this.__isMask&&(this.__maskCached=!1);b&&this.__transformDirty&&(this.__transformDirty=!1,C.__worldTransformDirty--);a||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=
new Xb),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0);null!=c&&this.__updateMask(c);!a&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new ma),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):(this.__cachedBitmapBounds.setEmpty(),this.__getRenderBounds(this.__cachedBitmapBounds,ba.__identity)),null!=this.__filters&&
(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new ma),this.__cachedFilterBounds.setEmpty(),Yb.__expandBounds(this.__filters,this.__cachedFilterBounds,ba.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y));if(!a){this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());if(null!=this.parent){this.__worldAlpha=
this.get_alpha()*this.parent.__worldAlpha;this.__worldColorTransform.__combine(this.parent.__worldColorTransform);if(null==this.blendMode||10==this.blendMode)this.__blendMode=this.parent.__blendMode;null==this.shader&&(this.__shader=this.parent.__shader)}else this.__worldAlpha=this.get_alpha();b&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(a){if((this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask)||this.__isMask)this.__worldAlpha=
this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,C.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=new ma),this.__graphics.__getBounds(a.__bounds,ba.__identity))},__updateTransforms:function(a){var b=null!=a;a=b?a.clone():this.__transform;null==this.__worldTransform&&(this.__worldTransform=new ba);
b||null==this.parent?(this.__worldTransform.copyFrom(a),this.__worldOffset.setTo(0,0)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=a.c*b.a+a.d*b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=a.tx*b.b+a.ty*b.d+b.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset));null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),
this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0);this.__renderTransform.copyFrom(this.__worldTransform);this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},get_alpha:function(){return this.__alpha},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},get_height:function(){var a=new ma;this.__getBounds(a,this.__transform);return a.height},get_mask:function(){return this.__mask},get_mouseX:function(){var a=null!=
this.stage?this.stage.__mouseX:M.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:M.current.stage.__mouseY,c=this.__getWorldTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx))},get_mouseY:function(){var a=null!=this.stage?this.stage.__mouseX:M.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:M.current.stage.__mouseY,c=this.__getWorldTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.ty:1/d*(c.a*(b-c.ty)+c.b*(c.tx-a))},set_name:function(a){return this.__name=
a},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(a){if(0==this.__transform.c)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,C.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,C.__worldTransformDirty++);
this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(a){if(0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,C.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||
(this.__transformDirty=!0,C.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=c}return a},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new Fc(this));return this.__objectTransform},get_visible:function(){return this.__visible},get_width:function(){var a=new ma;this.__getBounds(a,this.__transform);return a.width},set_x:function(a){a==this.__transform.tx||this.__transformDirty||
(this.__transformDirty=!0,C.__worldTransformDirty++);return this.__transform.tx=a},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,C.__worldTransformDirty++);return this.__transform.ty=a},__class__:C,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_y:"set_y",set_x:"set_x",get_width:"get_width",get_visible:"get_visible",get_transform:"get_transform",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",
get_scaleX:"get_scaleX",set_name:"set_name",get_mask:"get_mask",get_height:"get_height",get_filters:"get_filters",get_alpha:"get_alpha"}});var sa=function(){C.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=!1;this.tabIndex=-1};h["openfl.display.InteractiveObject"]=sa;sa.__name__=!0;sa.__super__=C;sa.prototype=v(C.prototype,{__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,
b,c,d,e,f){return!f.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:C.prototype.__hitTest.call(this,a,b,c,d,e,f)},get_tabEnabled:function(){return this.__tabEnabled},__class__:sa,__properties__:v(C.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});var ta=function(){sa.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};h["openfl.display.DisplayObjectContainer"]=ta;ta.__name__=!0;ta.__super__=sa;ta.prototype=v(sa.prototype,{addChild:function(a){if(null!=
a){null!=a.parent&&a.parent.removeChild(a);this.__children.push(a);a.parent=this;null!=this.stage&&a.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,C.__worldTransformDirty++);a.__renderDirty||(a.__updateCachedBitmap=!0,a.__updateFilters=null!=a.get_filters()&&0<a.get_filters().length,a.__renderDirty=!0,C.__worldRenderDirty++);this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,
C.__worldRenderDirty++);var b=new x("added",!0);b.target=a;a.__dispatchEvent(b)}return a},removeChild:function(a){null!=a&&a.parent==this&&(a.__dispatchEvent(new x("removed",!0)),null!=this.stage&&a.__setStageReference(null),a.parent=null,G.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,C.__worldTransformDirty++),a.__renderDirty||(a.__updateCachedBitmap=!0,a.__updateFilters=null!=a.get_filters()&&0<a.get_filters().length,a.__renderDirty=!0,C.__worldRenderDirty++),
this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,C.__worldRenderDirty++));return a},__broadcast:function(a,b){null==a.target&&(a.target=this);var c=sa.prototype.__broadcast.call(this,a,b);if(!a.__isCanceled&&b)for(var d=0,e=this.__children;d<e.length;){var f=e[d];++d;f.__broadcast(a,!0);if(a.__isCanceled)return!0}return c},__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];
++b;d.__enterFrame(a)}},__getBounds:function(a,b){sa.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.get_scaleX()&&0!=e.get_scaleY()&&e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(a,b){if(null!=this.__scrollRect)sa.prototype.__getRenderBounds.call(this,a,b);else if(sa.prototype.__getBounds.call(this,
a,b),0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0==e.get_scaleX()||0==e.get_scaleY()||e.__isMask||e.__getRenderBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b)||null!=this.get_scrollRect()&&
!this.get_scrollRect().containsPoint(this.globalToLocal(new ca(a,b))))return!1;var g=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--g;){if(this.__children[g].__hitTest(a,b,c,null,!0,this.__children[g]))return null!=d&&d.push(f),!0}else{if(null!=d){e=d.length;for(var h=!1,Ea=!1;0<=--g&&!(((h=this.__children[g].__getInteractive(null))||this.mouseEnabled&&!Ea)&&this.__children[g].__hitTest(a,b,c,d,!0,this.__children[g])&&(Ea=!0,h)););if(Ea)return d.splice(e,0,f),!0}}else for(;0<=
--g;)this.__children[g].__hitTest(a,b,c,d,!1,this.__children[g]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCairo:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){sa.prototype.__renderCairo.call(this,a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<
c.length;){var d=c[b];++b;d.__renderCairo(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCairoMask:function(a){null!=this.__graphics&&K.renderMask(this.__graphics,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairoMask(a)}},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){sa.prototype.__renderCanvas.call(this,
a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCanvasMask:function(a){null!=this.__graphics&&g.renderMask(this.__graphics,
a);var b=new ma;this.__getBounds(b,this.__transform);a.context.rect(0,0,b.width,b.height)},__setStageReference:function(a){if(this.stage!=a&&(null!=this.stage&&this.__dispatchEvent(new x("removedFromStage",!1,!1)),this.stage=a,null!=a&&this.__dispatchEvent(new x("addedToStage",!1,!1)),null!=this.__children))for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__update:function(a,b,c){sa.prototype.__update.call(this,a,b,c);if((this.__renderable||this.__isMask)&&b){b=
0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){sa.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},__class__:ta});var ia=function(){ta.call(this);this.buttonMode=!1;this.useHandCursor=!0;this.loaderInfo=Va.create(null)};h["openfl.display.Sprite"]=ia;ia.__name__=!0;ia.__super__=ta;ia.prototype=v(ta.prototype,{__getCursor:function(){return this.buttonMode&&this.useHandCursor?
r.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,b,c,null,!0,f),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=f),a}else{if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(ta.prototype.__hitTest.call(this,a,b,c,d,e,f))return e;if((!e||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(a,
b,c,this.__getWorldTransform()))return null!=d&&d.push(f),!0}return!1},__hitTestMask:function(a,b){return ta.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new Xb,this.__graphics.__owner=this);return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:ia,__properties__:v(ta.prototype.__properties__,{get_graphics:"get_graphics"})});
var oa=function(){this.jpegData={width:0,height:0,pixels:null,quality:100,argb:!0,yQuantRandom:0,uvQuantRandom:0,dctQuantRowRandom:0,dctQuantColRandom:0,yduNoise:{r:0,g:0,b:0},uduNoise:{r:0,g:0,b:0},vduNoise:{r:0,g:0,b:0},dcyMultRandom:0,dcuMultRandom:0,dcvMultRandom:0,dcyOffsetRandom:0,dcuOffsetRandom:0,dcvOffsetRandom:0,rowReadRandom:0,colReadRandom:0,nullFillMaxLen:0,nullFillMaxVal:0,rgbXOffsetRange:{r:0,g:0,b:0},rgbYOffsetRange:{r:0,g:0,b:0}};this.processing=!1;var a=this;ia.call(this);this.jpegDataGlitch=
P.copy(this.jpegData);t.setup();t.stageResized.connect(l(this,this.onResize));t.inputs.keyDown.connect(l(this,this.onKey));this.camera=new Gc;this.outputDisplay=new Ab;this.previewLoader=new Zb;this.addChild(this.outputDisplay);this.previewLoader.contentLoaderInfo.addEventListener("complete",function(b){a.outputLoaded(b.target.content)});var b=window.document;b.getElementById("fullscreen-button").addEventListener("click",function(){t.toggleFullscreen()});b.getElementById("stop-camera-button").addEventListener("click",
function(){a.stopCamera()});b.getElementById("start-camera-button").addEventListener("click",function(){a.startCamera()});b.getElementById("startupLayout").style.display="flex"};h.BadCamera=oa;oa.__name__=!0;oa.rr=function(a,b){return a+Math.random()*(b-a)};oa.sha256String=function(a){var b="";a=ab.make(a);for(var c=0;8>c;)var d=c++,b=b+(oa.base64(a.getInt32(d<<2))+"");return b};oa.base64=function(a){for(var b="";;){var c=a,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-+".charAt((0>
c?4294967296+c:c+0)%64|0)+b;a=(0>a?4294967296+a:a+0)/64|0;if(!qd.gt(a,0))break}return b};oa.__super__=ia;oa.prototype=v(ia.prototype,{stopCamera:function(){window.location.hash="";window.location.reload()},onKey:function(a){switch(a){case 70:t.toggleFullscreen();break;case 83:null!=this.bytesOut&&0<this.bytesOut.length&&this.saveImage(this.bytesOut)}},startCamera:function(){var a=this;this.camera.streamError.connect(function(a){var b=a.name;null!=a.message&&(b+=" - "+a.message);window.document.getElementById("errorMessage").textContent=
b;window.document.getElementById("errorLayout").style.display="flex";window.document.getElementById("controls").style.display="none";window.document.getElementById("startupLayout").style.display="none"});this.camera.streamReady.connect(function(b){window.document.getElementById("startupLayout").style.display="none";if(b){window.document.getElementById("controls").style.display="block";window.document.getElementById("openfl-content").style.display="block";a.camera.frameRequired.connect(function(){return!a.processing});
a.camera.frameData.connect(function(b){b=da.ofData(b);a.encodeJPGPixels(b,a.camera.width,a.camera.height,.1>Math.random()?oa.rr(1,40):oa.rr(60,90),.0075>Math.random())});b=M.current.stage.get_width()|0;var d=M.current.stage.get_height();a.onResize(b,d|0)}});var b=window.screen.width/window.screen.height;this.camera.connect({audio:!1,video:{width:(1<b?320:320/b)|0,height:(1<b?320/b:320)|0,frameRate:{ideal:14,max:14},facingMode:"environment"}})},onResize:function(a,b){null!=this.outputDisplay.bitmapData&&
(this.fitToSize(this.outputDisplay,a,b),this.outputDisplay.set_x(a/2-this.outputDisplay.get_width()/2),this.outputDisplay.set_y(b/2-this.outputDisplay.get_height()/2))},fitToSize:function(a,b,c,d){null==d&&(d=-1);b/=a.bitmapData.width;c/=a.bitmapData.height;c=b>c?c:b;-1<d&&(c=Math.min(d,c));a.set_scaleX(a.set_scaleY(c))},outputLoaded:function(a){this.outputDisplay.bitmapData=a.bitmapData;this.onResize(this.stage.stageWidth,this.stage.stageHeight);this.processing=!1},encodeJPGPixels:function(a,b,c,
d,e){null==e&&(e=!0);this.processing=!0;var f=new $b,g=new Hc(f);this.setCommonJPEGData(this.jpegDataGlitch,a,b,c,d,e);this.setCommonJPEGData(this.jpegData,a,b,c,d,e);this.jpegDataGlitch.yQuantRandom=.15>Math.random()?Math.random():0;this.jpegDataGlitch.uvQuantRandom=.15>Math.random()?Math.random():0;this.jpegDataGlitch.dctQuantRowRandom=.05>Math.random()?(Math.random()-.5)*Math.random()*100:0;this.jpegDataGlitch.dctQuantColRandom=.05>Math.random()?100*Math.random():0;this.randomiseRGB(this.jpegDataGlitch.yduNoise,
.1>Math.random()?.25:.01,.1>Math.random()?.25:.01,.1>Math.random()?.25:.01);this.randomiseRGB(this.jpegDataGlitch.uduNoise,.1>Math.random()?.25:.01,.1>Math.random()?.25:.01,.1>Math.random()?.25:.01);this.randomiseRGB(this.jpegDataGlitch.vduNoise,.1>Math.random()?.25:.01,.1>Math.random()?.25:.01,.1>Math.random()?.25:.01);this.jpegDataGlitch.dcyMultRandom=.1>Math.random()?1.2*Math.random():0;this.jpegDataGlitch.dcuMultRandom=.1>Math.random()?1.2*Math.random():0;this.jpegDataGlitch.dcvMultRandom=.1>
Math.random()?1.2*Math.random():0;this.jpegDataGlitch.dcyOffsetRandom=.1>Math.random()?1.2*Math.random():0;this.jpegDataGlitch.dcuOffsetRandom=.1>Math.random()?1.2*Math.random():0;this.jpegDataGlitch.dcvOffsetRandom=.1>Math.random()?1.2*Math.random():0;this.jpegDataGlitch.rowReadRandom=.3>Math.random()?oa.rr(-1.5,1.5):0;this.jpegDataGlitch.colReadRandom=.1>Math.random()?oa.rr(-1.5,1.5):0;this.jpegDataGlitch.nullFillMaxLen=.75>Math.random()?4*Math.random()|0:0;a=oa.rr(0,8);this.jpegDataGlitch.nullFillMaxVal=
a|0;this.jpegDataGlitch.rgbXOffsetRange.r=.98>Math.random()?0:32*Math.random()|0;this.jpegDataGlitch.rgbXOffsetRange.g=.98>Math.random()?0:32*Math.random()|0;this.jpegDataGlitch.rgbXOffsetRange.b=.98>Math.random()?0:32*Math.random()|0;this.jpegDataGlitch.rgbYOffsetRange.r=.98>Math.random()?0:32*Math.random()|0;this.jpegDataGlitch.rgbYOffsetRange.g=.98>Math.random()?0:32*Math.random()|0;this.jpegDataGlitch.rgbYOffsetRange.b=.98>Math.random()?0:32*Math.random()|0;g.write(.3333333333333333>Math.random()?
this.jpegDataGlitch:this.jpegData);this.bytesOut=f.getBytes();f.close();this.previewLoader.loadBytes(bb.fromArrayBuffer(this.bytesOut.b.bufferValue))},setCommonJPEGData:function(a,b,c,d,e,f){null==f&&(f=!0);a.width=c;a.height=d;a.quality=e;a.argb=f;a.pixels=bb.toBytes(b)},randomiseRGB:function(a,b,c,d){a.r=Math.random()*b;a.g=Math.random()*c;a.b=Math.random()*d},saveImage:function(a){var b=oa.sha256String(a);Id.log("Save image:"+b+".jpg");a=new Blob([a.b.bufferValue],{type:"image/jpg"});a=URL.createObjectURL(a);
Id.log(a);var c=window.document.createElement("a");c.href=a;c.download=""+b+".jpg";c.target="_blank";c.click()},__class__:oa});var Tb=function(){M.current.addChild(this);oa.call(this);this.dispatchEvent(new x("addedToStage",!1,!1))};h.DocumentClass=Tb;Tb.__name__=!0;Tb.__super__=oa;Tb.prototype=v(oa.prototype,{__class__:Tb});var ac=function(){this.onChange=new pa};h["lime.AssetLibrary"]=ac;ac.__name__=!0;ac.prototype={unload:function(){},__class__:ac};var bc=function(){this.path=new aa;this.onChange=
new pa;var a=null;null!=O.config&&Object.prototype.hasOwnProperty.call(O.config,"assetsPrefix")&&(a=O.config.assetsPrefix);if(null!=a)for(var b=this.path.keys();b.hasNext();){var c=b.next(),d;d=this.path;d=null!=B[c]?d.getReserved(c):d.h[c];d=a+d;var e=this.path;null!=B[c]?e.setReserved(c,d):e.h[c]=d}};h.DefaultAssetLibrary=bc;bc.__name__=!0;bc.__super__=ac;bc.prototype=v(ac.prototype,{__class__:bc});var G=function(){};h.HxOverrides=G;G.__name__=!0;G.cca=function(a,b){var c=a.charCodeAt(b);return c!=
c?void 0:c};G.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};G.indexOf=function(a,b,c){var d=a.length;0>c&&(c+=d,0>c&&(c=0));for(;c<d;){if(a[c]===b)return c;c++}return-1};G.remove=function(a,b){var c=G.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};G.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};
var Bb=function(){this.length=0};h.List=Bb;Bb.__name__=!0;Bb.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},__class__:Bb};Math.__name__=!0;var Ja=function(){ia.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*(a&255)&&
(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new ia;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.addChild(this.outline);this.progress=new ia;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.addChild(this.progress)};h.NMEPreloader=Ja;Ja.__name__=!0;
Ja.__super__=ia;Ja.prototype=v(ia.prototype,{getBackgroundColor:function(){return 1710618},getHeight:function(){return M.current.stage.stageHeight},getWidth:function(){return M.current.stage.stageWidth},onInit:function(){},onLoaded:function(){this.dispatchEvent(new x("complete"))},onUpdate:function(a,b){var c=a/b;1<c&&(c=1);this.progress.set_scaleX(c)},__class__:Ja});var P=function(){};h.Reflect=P;P.__name__=!0;P.field=function(a,b){try{return a[b]}catch(c){return c instanceof ea&&(c=c.val),null}};
P.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};P.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};P.compare=function(a,b){return a==b?0:a>b?1:-1};P.compareMethods=function(a,b){return a==b?!0:P.isFunction(a)&&P.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};P.copy=function(a){for(var b={},c=0,d=P.fields(a);c<d.length;){var e=d[c];++c;
var f=P.field(a,e);b[e]=f}return b};var Ka=function(){};h.Std=Ka;Ka.__name__=!0;Ka.string=function(a){return F.__string_rec(a,"")};Ka.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=G.cca(a,1)&&88!=G.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var La=function(){};h.StringTools=La;La.__name__=!0;La.startsWith=function(a,b){return a.length>=b.length&&G.substr(a,0,b.length)==b};La.replace=function(a,b,c){return a.split(b).join(c)};La.hex=function(a,b){for(var c="";c="0123456789ABCDEF".charAt(a&
15)+c,a>>>=4,0<a;);if(null!=b)for(;c.length<b;)c="0"+c;return c};var Ua=function(){};h.Type=Ua;Ua.__name__=!0;Ua.resolveClass=function(a){a=h[a];return null!=a&&a.__name__?a:null};Ua.resolveEnum=function(a){a=h[a];return null!=a&&a.__ename__?a:null};Ua.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],
b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new ea("Too many arguments");}};Ua.getClassFields=function(a){a=P.fields(a);G.remove(a,"__name__");G.remove(a,"__interfaces__");G.remove(a,"__properties__");G.remove(a,"__super__");G.remove(a,"__meta__");G.remove(a,"prototype");return a};var qd={};h["_UInt.UInt_Impl_"]=qd;qd.__name__=!0;qd.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};var Hc=
function(a){this.YTable=[];this.UVTable=[];this.fdtbl_Y=[];this.fdtbl_UV=[];for(var b=0;64>b;)b++,this.YTable.push(0),this.UVTable.push(0),this.fdtbl_Y.push(0),this.fdtbl_UV.push(0);this.bitcode=new U;this.category=new U;this.byteout=a;this.bytenew=0;this.bytepos=7;this.YDC_HT=new U;this.UVDC_HT=new U;this.YAC_HT=new U;this.UVAC_HT=new U;this.YDU=[];this.UDU=[];this.VDU=[];this.DU=[];for(a=0;64>a;)a++,this.YDU.push(0),this.UDU.push(0),this.VDU.push(0),this.DU.push(0);this.initZigZag();this.initLuminance();
this.initChrominance();this.initHuffmanTbl();this.initCategoryNumber()};h["format.jpg.CustomWriter"]=Hc;Hc.__name__=!0;Hc.prototype={initZigZag:function(){this.ZigZag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63]},initQuantTables:function(a){for(var b=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,
109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],c=0;64>c;){var d=c++,e=Math.floor((b[d]*a+50)/100);1>e?e=1:255<e&&(e=255);this.YTable[this.ZigZag[d]]=e}b=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(c=0;64>c;)d=c++,e=Math.floor((b[d]*a+50)/100),1>e?e=1:255<e&&(e=255),this.UVTable[this.ZigZag[d]]=e;a=[1,
1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379];b=0;c=this.imgData.yQuantRandom;d=this.imgData.uvQuantRandom;for(e=0;8>e;)for(var f=e++,g=0;8>g;){var h=g++;this.fdtbl_Y[b]=1/(this.YTable[this.ZigZag[b]]*a[f]*a[h]*8*(1+c*Math.random()));this.fdtbl_UV[b]=1/(this.UVTable[this.ZigZag[b]]*a[f]*a[h]*8*(1+d*Math.random()));b++}},initLuminance:function(){this.std_dc_luminance_nrcodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];this.std_dc_luminance_values=this.strIntsToBytes("0,1,2,3,4,5,6,7,8,9,10,11");
this.std_ac_luminance_nrcodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125];this.std_ac_luminance_values=this.strIntsToBytes("0x01,0x02,0x03,0x00,0x04,0x11,0x05,0x12,0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,0x24,0x33,0x62,0x72,0x82,0x09,0x0a,0x16,0x17,0x18,0x19,0x1a,0x25,0x26,0x27,0x28,0x29,0x2a,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa")},
strIntsToBytes:function(a){for(var b=a.length,c=new cc,d=0,e=d=0;e<b;){var f=e++;","==a.charAt(f)&&(d=Ka.parseInt(G.substr(a,d,f-d)),c.b.push(d),d=f+1)}d<b&&(d=Ka.parseInt(G.substr(a,d,null)),c.b.push(d));return c.getBytes()},initChrominance:function(){this.std_dc_chrominance_nrcodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];this.std_dc_chrominance_values=this.strIntsToBytes("0,1,2,3,4,5,6,7,8,9,10,11");this.std_ac_chrominance_nrcodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119];this.std_ac_chrominance_values=
this.strIntsToBytes("0x00,0x01,0x02,0x03,0x11,0x04,0x05,0x21,0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,0x15,0x62,0x72,0xd1,0x0a,0x16,0x24,0x34,0xe1,0x25,0xf1,0x17,0x18,0x19,0x1a,0x26,0x27,0x28,0x29,0x2a,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa")},
initHuffmanTbl:function(){this.YDC_HT=this.computeHuffmanTbl(this.std_dc_luminance_nrcodes,this.std_dc_luminance_values);this.UVDC_HT=this.computeHuffmanTbl(this.std_dc_chrominance_nrcodes,this.std_dc_chrominance_values);this.YAC_HT=this.computeHuffmanTbl(this.std_ac_luminance_nrcodes,this.std_ac_luminance_values);this.UVAC_HT=this.computeHuffmanTbl(this.std_ac_chrominance_nrcodes,this.std_ac_chrominance_values)},computeHuffmanTbl:function(a,b){for(var c=0,d=0,e=new U,f=1;17>f;){for(var g=f++,h=a[g],
Ea=0;Ea<h;){Ea++;var m=b.b[d],k=new cb(g,c);e.h[m]=k;d++;c++}c*=2}return e},initCategoryNumber:function(){for(var a=1,b=2,c,d=1;16>d;){for(var e=d++,f=a;f<b;){var g=f++;c=32767+g;this.category.h[c]=e;g=new cb(e,g);this.bitcode.h[c]=g}for(f=-(b-1);f<=-a;)c=32767+f,this.category.h[c]=e,g=new cb(e,b-1+f),this.bitcode.h[c]=g,f++;a<<=1;b<<=1}},writeBits:function(a){if(null==a){if(0>=this.imgData.nullFillMaxLen)return;a=new cb(Math.random()*this.imgData.nullFillMaxLen|0,Math.random()*this.imgData.nullFillMaxVal|
0)}var b=a.val;for(a=a.len-1;0<=a;)0!=(b&1<<a)&&(this.bytenew|=1<<this.bytepos),a--,this.bytepos--,0>this.bytepos&&(255==this.bytenew?(this.byteout.writeByte(255),this.byteout.writeByte(0)):this.byteout.writeByte(this.bytenew),this.bytepos=7,this.bytenew=0)},writeWord:function(a){this.byteout.writeByte(a>>8&255);this.byteout.writeByte(a&255)},fDCTQuant:function(a,b){for(var c=this.imgData.dctQuantRowRandom,d=this.imgData.dctQuantColRandom,e=0,f=0;8>f;){f++;var g=a[e]+a[e+7],h=a[e]-a[e+7],Ea=a[e+1]+
a[e+6],m=a[e+1]-a[e+6],k=a[e+2]+a[e+5],l=a[e+2]-a[e+5],n=a[e+3]+a[e+4],Ba=a[e+3]-a[e+4],w=g+n,n=g-n,g=Ea+k,Ea=Ea-k;a[e]=w+g;a[e+4]=w-g;w=.707106781*(Ea+n);a[e+2]=n+w;a[e+6]=n-w;w=Ba+l;g=l+m;Ea=m+h;l=.382683433*(w-Ea);m=.5411961*w+l;l=1.306562965*Ea+l;w=.707106781*g*(1+c*Math.random());Ba=h+w;h-=w;a[e+5]=h+m;a[e+3]=h-m;a[e+1]=Ba+l;a[e+7]=Ba-l;e+=8}for(c=e=0;8>c;)c++,w=a[e]+a[e+56],f=a[e]-a[e+56],g=a[e+8]+a[e+48],h=a[e+8]-a[e+48],Ea=a[e+16]+a[e+40],m=a[e+16]-a[e+40],k=a[e+24]+a[e+32],l=a[e+24]-a[e+
32],Ba=w+k,k=w-k,w=g+Ea,g-=Ea,a[e]=Ba+w,a[e+32]=Ba-w,Ba=.707106781*(g+k),a[e+16]=k+Ba,a[e+48]=k-Ba,Ba=l+m,w=m+h,g=h+f,m=.382683433*(Ba-g),h=.5411961*Ba+m,m=1.306562965*g+m,Ba=.707106781*w*(1+d*Math.random()),l=f+Ba,f-=Ba,a[e+40]=f+h,a[e+24]=f-h,a[e+8]=l+m,a[e+56]=l-m,e++;for(d=0;64>d;)e=d++,a[e]=Math.round(a[e]*b[e]);return a},writeAPP0:function(){this.byteout.writeByte(255);this.byteout.writeByte(224);this.byteout.writeByte(0);this.byteout.writeByte(16);this.byteout.writeByte(74);this.byteout.writeByte(70);
this.byteout.writeByte(73);this.byteout.writeByte(70);this.byteout.writeByte(0);this.byteout.writeByte(1);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(0);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(0)},writeDQT:function(){this.byteout.writeByte(255);this.byteout.writeByte(219);this.byteout.writeByte(0);this.byteout.writeByte(132);this.byteout.writeByte(0);for(var a=0;64>a;){var b=a++;this.byteout.writeByte(this.YTable[b])}this.byteout.writeByte(1);
for(a=0;64>a;)b=a++,this.byteout.writeByte(this.UVTable[b])},writeSOF0:function(a,b){this.byteout.writeByte(255);this.byteout.writeByte(192);this.byteout.writeByte(0);this.byteout.writeByte(17);this.byteout.writeByte(8);this.byteout.writeByte(b>>8&255);this.byteout.writeByte(b&255);this.byteout.writeByte(a>>8&255);this.byteout.writeByte(a&255);this.byteout.writeByte(3);this.byteout.writeByte(1);this.byteout.writeByte(17);this.byteout.writeByte(0);this.byteout.writeByte(2);this.byteout.writeByte(17);
this.byteout.writeByte(1);this.byteout.writeByte(3);this.byteout.writeByte(17);this.byteout.writeByte(1)},writeDHT:function(){this.byteout.writeByte(255);this.byteout.writeByte(196);this.byteout.writeByte(1);this.byteout.writeByte(162);this.byteout.writeByte(0);for(var a=1;17>a;){var b=a++;this.byteout.writeByte(this.std_dc_luminance_nrcodes[b])}this.byteout.write(this.std_dc_luminance_values);this.byteout.writeByte(16);for(a=1;17>a;)b=a++,this.byteout.writeByte(this.std_ac_luminance_nrcodes[b]);
this.byteout.write(this.std_ac_luminance_values);this.byteout.writeByte(1);for(a=1;17>a;)b=a++,this.byteout.writeByte(this.std_dc_chrominance_nrcodes[b]);this.byteout.write(this.std_dc_chrominance_values);this.byteout.writeByte(17);for(a=1;17>a;)b=a++,this.byteout.writeByte(this.std_ac_chrominance_nrcodes[b]);this.byteout.write(this.std_ac_chrominance_values)},writeSOS:function(){this.byteout.writeByte(255);this.byteout.writeByte(218);this.byteout.writeByte(0);this.byteout.writeByte(12);this.byteout.writeByte(3);
this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(2);this.byteout.writeByte(17);this.byteout.writeByte(3);this.byteout.writeByte(17);this.byteout.writeByte(0);this.byteout.writeByte(63);this.byteout.writeByte(0)},processDU:function(a,b,c,d,e){var f=e.h[0],g=e.h[240];a=this.fDCTQuant(a,b);for(b=0;64>b;){var h=b++;this.DU[this.ZigZag[h]]=a[h]}a=this.DU[0]-c|0;c=this.DU[0];0==a?this.writeBits(d.h[0]):(h=32767+a,this.writeBits(d.h[this.category.h[h]]),this.writeBits(this.bitcode.h[h]));
for(d=63;0<d&&0==this.DU[d];)d--;if(0==d)return this.writeBits(f),c;for(a=1;a<=d;){for(b=a;0==this.DU[a]&&a<=d;)a++;b=a-b;if(16<=b){for(var h=0,k=b>>4;h<k;)h++,this.writeBits(g);b&=15}h=32767+(this.DU[a]|0);this.writeBits(e.h[16*b+this.category.h[h]]);this.writeBits(this.bitcode.h[h]);a++}63!=d&&this.writeBits(f);return c},RGB2YUV:function(a,b,c,d){for(var e=this.imgData.yduNoise,f=this.imgData.uduNoise,g=this.imgData.vduNoise,h=this.imgData.argb,k=this.imgData.rgbXOffsetRange.r,m=this.imgData.rgbXOffsetRange.g,
l=this.imgData.rgbXOffsetRange.b,fe=this.imgData.rgbYOffsetRange.r,n=this.imgData.rgbYOffsetRange.g,Ba=this.imgData.rgbYOffsetRange.b,w=b<<2,q=0,u=0;8>u;)for(var p=(u++ +d)*b+c<<2,y=0;8>y;){y++;h&&p++;var A=a.b[p+(k<<2)+fe*w],v=a.b[p+1+(m<<2)+n*w],r=a.b[p+2+(l<<2)+Ba*w],p=p+3;h||p++;this.YDU[q]=(.299+e.r*Math.random())*A+(.587+e.g*Math.random())*v+(.114+e.b*Math.random())*r-128;this.UDU[q]=(-.16874+f.r*Math.random())*A+(-.33126+f.g*Math.random())*v+(.5+f.b*Math.random())*r;this.VDU[q]=(.5+g.r*Math.random())*
A+(-.41869+g.g*Math.random())*v+(-.08131+g.b*Math.random())*r;q++}},write:function(a){this.imgData=a;var b=a.quality;0>=b&&(b=1);100<b&&(b=100);this.initQuantTables(50>b?5E3/b|0:200-2*b|0);this.bytenew=0;this.bytepos=7;var b=a.width,c=a.height;this.writeWord(65496);this.writeAPP0();this.writeDQT();this.writeSOF0(b,c);this.writeDHT();this.writeSOS();var d=this.imgData.dcyOffsetRandom,e=this.imgData.dcuOffsetRandom,f=this.imgData.dcvOffsetRandom,g=this.imgData.dcyMultRandom,h=this.imgData.dcuMultRandom,
k=this.imgData.dcvMultRandom,m=this.imgData.colReadRandom,l=this.imgData.rowReadRandom*this.imgData.height/64,q=0,n=0,Ba=0;this.bytenew=0;this.bytepos=7;var w=0;for(a=a.pixels;w<c;){for(var p=8*Math.random()*m|0;p<b;)this.RGB2YUV(a,b,p,w),q=d*Math.random()+(1+(g*Math.random()-g/2))*this.processDU(this.YDU,this.fdtbl_Y,q,this.YDC_HT,this.YAC_HT),n=e*Math.random()+(1+(h*Math.random()-h/2))*this.processDU(this.UDU,this.fdtbl_UV,n,this.UVDC_HT,this.UVAC_HT),Ba=f*Math.random()+(1+(k*Math.random()-k/2))*
this.processDU(this.VDU,this.fdtbl_UV,Ba,this.UVDC_HT,this.UVAC_HT),p+=8;w+=8+Math.round((Math.random()-.5)*l)}0<=this.bytepos&&(b=new cb(this.bytepos+1,(1<<this.bytepos+1)-1),this.writeBits(b));this.writeWord(65497)},__class__:Hc};var cb=function(a,b){this.len=a;this.val=b};h["format.jpg._CustomWriter.BitString"]=cb;cb.__name__=!0;cb.prototype={__class__:cb};var Ic=function(){};h["haxe.IMap"]=Ic;Ic.__name__=!0;var Jc=function(a,b){this.high=a;this.low=b};h["haxe._Int64.___Int64"]=Jc;Jc.__name__=
!0;Jc.prototype={__class__:Jc};var rd=function(){};h["haxe.Timer"]=rd;rd.__name__=!0;rd.stamp=function(){return(new Date).getTime()/1E3};var Kc=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw new ea("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};h["haxe.crypto.BaseCode"]=Kc;Kc.__name__=!0;Kc.prototype={encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=da.alloc(d+(0==8*a.length%b?0:1)),f=0,g=0,h=(1<<b)-1,k=0,m=0;m<d;){for(;g<
b;)var g=g+8,f=f<<8,l=k++,f=f|a.b[l];g-=b;l=m++;e.b[l]=c.b[f>>g&h]&255}0<g&&(a=m++,e.b[a]=c.b[f<<b-g&h]&255);return e},__class__:Kc};var ab=function(){};h["haxe.crypto.Sha256"]=ab;ab.__name__=!0;ab.make=function(a){a=(new ab).doEncode(ab.bytes2blks(a),8*a.length);for(var b=da.alloc(32),c=0,d=0;8>d;){var e=d++,f=c++;b.b[f]=a[e]>>>24&255;f=c++;b.b[f]=a[e]>>16&255;f=c++;b.b[f]=a[e]>>8&255;f=c++;b.b[f]=a[e]&255}return b};ab.bytes2blks=function(a){for(var b=(a.length+8>>6)+1,c=[],d=0,e=16*b;d<e;){var f=
d++;c[f]=0}d=0;for(e=a.length;d<e;)f=d++,c[f>>2]|=a.b[f]<<24-((f&3)<<3);d=a.length;c[d>>2]|=128<<24-((d&3)<<3);c[16*b-1]=8*a.length;return c};ab.prototype={doEncode:function(a,b){var c=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,
-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],d=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],e=[];e[64]=0;var f,g,
h,k,m,l,q,n,p,w;a[b>>5]|=128<<24-b%32;a[(b+64>>9<<4)+15]=b;for(var u=0;u<a.length;){f=d[0];g=d[1];h=d[2];k=d[3];m=d[4];l=d[5];q=d[6];n=d[7];for(var y=0;64>y;)p=y++,e[p]=16>p?a[p+u]:this.safeAdd(this.safeAdd(this.safeAdd(this.Gamma1256(e[p-2]),e[p-7]),this.Gamma0256(e[p-15])),e[p-16]),p=this.safeAdd(this.safeAdd(this.safeAdd(this.safeAdd(n,this.Sigma1256(m)),this.Ch(m,l,q)),c[p]),e[p]),w=this.safeAdd(this.Sigma0256(f),this.Maj(f,g,h)),n=q,q=l,l=m,m=this.safeAdd(k,p),k=h,h=g,g=f,f=this.safeAdd(p,w);
d[0]=this.safeAdd(f,d[0]);d[1]=this.safeAdd(g,d[1]);d[2]=this.safeAdd(h,d[2]);d[3]=this.safeAdd(k,d[3]);d[4]=this.safeAdd(m,d[4]);d[5]=this.safeAdd(l,d[5]);d[6]=this.safeAdd(q,d[6]);d[7]=this.safeAdd(n,d[7]);u+=16}return d},S:function(a,b){return a>>>b|a<<32-b},R:function(a,b){return a>>>b},Ch:function(a,b,c){return a&b^~a&c},Maj:function(a,b,c){return a&b^a&c^b&c},Sigma0256:function(a){return this.S(a,2)^this.S(a,13)^this.S(a,22)},Sigma1256:function(a){return this.S(a,6)^this.S(a,11)^this.S(a,25)},
Gamma0256:function(a){return this.S(a,7)^this.S(a,18)^this.R(a,3)},Gamma1256:function(a){return this.S(a,17)^this.S(a,19)^this.R(a,10)},safeAdd:function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},__class__:ab};var dc=function(){};h["haxe.ds.BalancedTree"]=dc;dc.__name__=!0;dc.prototype={set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null},
iterator:function(){var a=[];this.iteratorLoop(this.root,a);return G.iter(a)},setLoop:function(a,b,c){if(null==c)return new fa(null,a,b,null);var d=this.compare(a,c.key);0==d?c=new fa(c.left,a,b,c.right,null==c?0:c._height):0>d?(a=this.setLoop(a,b,c.left),c=this.balance(a,c.key,c.value,c.right)):(a=this.setLoop(a,b,c.right),c=this.balance(c.left,c.key,c.value,a));return c},iteratorLoop:function(a,b){null!=a&&(this.iteratorLoop(a.left,b),b.push(a.value),this.iteratorLoop(a.right,b))},balance:function(a,
b,c,d){var e=null==a?0:a._height,f=null==d?0:d._height;e>f+2?(e=a.left,f=a.right,a=(null==e?0:e._height)>=(null==f?0:f._height)?new fa(a.left,a.key,a.value,new fa(a.right,b,c,d)):new fa(new fa(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new fa(a.right.right,b,c,d))):f>e+2?(e=d.right,f=d.left,a=(null==e?0:e._height)>(null==f?0:f._height)?new fa(new fa(a,b,c,d.left),d.key,d.value,d.right):new fa(new fa(a,b,c,d.left.left),d.left.key,d.left.value,new fa(d.left.right,d.key,d.value,d.right))):
a=new fa(a,b,c,d,(e>f?e:f)+1);return a},compare:function(a,b){return P.compare(a,b)},__class__:dc};var fa=function(a,b,c,d,e){null==e&&(e=-1);this.left=a;this.key=b;this.value=c;this.right=d;-1==e?(a=this.left,b=this.right,a=(null==a?0:a._height)>(null==b?0:b._height)?this.left:this.right,a=null==a?0:a._height,this._height=a+1):this._height=e};h["haxe.ds.TreeNode"]=fa;fa.__name__=!0;fa.prototype={__class__:fa};var U=function(){this.h={}};h["haxe.ds.IntMap"]=U;U.__name__=!0;U.__interfaces__=[Ic];U.prototype=
{remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:U};var Sa=function(){this.h={};this.h.__keys__={}};h["haxe.ds.ObjectMap"]=Sa;Sa.__name__=!0;Sa.__interfaces__=[Ic];Sa.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Sa.count);this.h[c]=b;this.h.__keys__[c]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&
a.push(this.h.__keys__[b]);return G.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:Sa};var Wb=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};h["haxe.ds._StringMap.StringMapIterator"]=Wb;Wb.__name__=!0;Wb.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=B[b]?a.getReserved(b):
a.h[b]},__class__:Wb};var aa=function(){this.h={}};h["haxe.ds.StringMap"]=aa;aa.__name__=!0;aa.__interfaces__=[Ic];aa.prototype={setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=B[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;
delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return G.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},__class__:aa};var Cb={};h["haxe.ds._Vector.Vector_Impl_"]=Cb;Cb.__name__=!0;Cb.blit=function(a,b,c,d,e){for(var f=0;f<e;){var g=f++;c[d+g]=a[b+g]}};var da=function(a){this.length=a.byteLength;this.b=new rb(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=
this.b};h["haxe.io.Bytes"]=da;da.__name__=!0;da.alloc=function(a){return new da(new sd(a))};da.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=c++,d=a.charCodeAt(d);if(55296<=d&&56319>=d){var e;e=c++;e=a.charCodeAt(e);d=d-55232<<10|e&1023}127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new da((new rb(b)).buffer)};da.ofData=function(a){var b=a.hxBytes;return null!=b?b:new da(a)};da.prototype=
{getInt32:function(a){null==this.data&&(this.data=new ge(this.b.buffer,this.b.byteOffset,this.b.byteLength));return this.data.getInt32(a,!0)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new ea(V.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,f=a,g=a+b;f<g;){var h=d[f++];if(128>h){if(0==h)break;c+=e(h)}else if(224>h)c+=e((h&63)<<6|d[f++]&127);else if(240>h)var k=d[f++],c=c+e((h&31)<<12|(k&127)<<6|d[f++]&127);else var k=d[f++],m=d[f++],h=(h&15)<<18|(k&127)<<12|(m&127)<<6|
d[f++]&127,c=c+e((h>>10)+55232),c=c+e(h&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:da};var cc=function(){this.b=[]};h["haxe.io.BytesBuffer"]=cc;cc.__name__=!0;cc.prototype={getBytes:function(){var a=new da((new rb(this.b)).buffer);this.b=null;return a},__class__:cc};var ec=function(){};h["haxe.io.Output"]=ec;ec.__name__=!0;ec.prototype={writeByte:function(a){throw new ea("Not implemented");},writeBytes:function(a,b,c){var d=c,e=a.b.bufferValue;if(0>b||
0>c||b+c>a.length)throw new ea(V.OutsideBounds);for(;0<d;)this.writeByte(e[b]),b++,d--;return c},close:function(){},write:function(a){for(var b=a.length,c=0;0<b;){var d=this.writeBytes(a,c,b);if(0==d)throw new ea(V.Blocked);c+=d;b-=d}},__class__:ec};var $b=function(){this.b=new cc};h["haxe.io.BytesOutput"]=$b;$b.__name__=!0;$b.__super__=ec;$b.prototype=v(ec.prototype,{writeByte:function(a){this.b.b.push(a)},writeBytes:function(a,b,c){var d=this.b;if(0>b||0>c||b+c>a.length)throw new ea(V.OutsideBounds);
a=a.b;var e=b;for(b+=c;e<b;){var f=e++;d.b.push(a[f])}return c},getBytes:function(){return this.b.getBytes()},__class__:$b});var td=function(){};h["haxe.io.Eof"]=td;td.__name__=!0;td.prototype={toString:function(){return"Eof"},__class__:td};var V=h["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};V.Blocked=["Blocked",0];V.Blocked.toString=q;V.Blocked.__enum__=V;V.Overflow=["Overflow",1];V.Overflow.toString=q;V.Overflow.__enum__=V;V.OutsideBounds=["OutsideBounds",
2];V.OutsideBounds.toString=q;V.OutsideBounds.__enum__=V;V.Custom=function(a){a=["Custom",3,a];a.__enum__=V;a.toString=q;return a};var Ma=function(){};h["haxe.io.FPHelper"]=Ma;Ma.__name__=!0;Ma.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Ma.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);return(0>a?-2147483648:0)|c+127<<23|Math.round(8388608*
(b/Math.pow(2,c)-1))&8388607};Ma.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};Ma.doubleToI64=function(a){var b=Ma.i64tmp;if(0==a)b.low=0,b.high=0;else{var c=0>a?-a:a,d=Math.floor(Math.log(c)/.6931471805599453),c=Math.round(4503599627370496*(c/Math.pow(2,d)-1));b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var sb=function(a){switch(a){case ".":case "..":this.dir=
a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=G.substr(a,0,c),a=G.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=G.substr(a,0,b),a=G.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=G.substr(a,b+1,null),this.file=G.substr(a,0,b)):(this.ext=null,this.file=a)};h["haxe.io.Path"]=sb;sb.__name__=!0;sb.withoutExtension=function(a){a=new sb(a);a.ext=null;return a.toString()};sb.prototype={toString:function(){return(null==this.dir?"":this.dir+
(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:sb};var Ga=h["hxsignal.ConnectionTimes"]={__ename__:!0,__constructs__:["Once","Times","Forever"]};Ga.Once=["Once",0];Ga.Once.toString=q;Ga.Once.__enum__=Ga;Ga.Times=function(a){a=["Times",1,a];a.__enum__=Ga;a.toString=q;return a};Ga.Forever=["Forever",2];Ga.Forever.toString=q;Ga.Forever.__enum__=Ga;var Na=h["hxsignal.ConnectPosition"]={__ename__:!0,__constructs__:["AtBack","AtFront"]};Na.AtBack=["AtBack",0];Na.AtBack.toString=
q;Na.AtBack.__enum__=Na;Na.AtFront=["AtFront",1];Na.AtFront.toString=q;Na.AtFront.__enum__=Na;var Db=function(){this.length=0};h["hxsignal.ds.LinkedList"]=Db;Db.__name__=!0;Db.__super__=Bb;Db.prototype=v(Bb.prototype,{__class__:Db});var fc=function(){};h["hxsignal.ds.TreeMap"]=fc;fc.__name__=!0;fc.__super__=dc;fc.prototype=v(dc.prototype,{firstKey:function(){var a=this.getFirstNode();return null!=a?a.key:null},lastKey:function(){var a=this.getLastNode();return null!=a?a.key:null},firstValue:function(){var a=
this.getFirstNode();return null!=a?a.value:null},lastValue:function(){var a=this.getLastNode();return null!=a?a.value:null},getFirstNode:function(){var a=this.root;if(null!=a)for(;null!=a.left;)a=a.left;return a},getLastNode:function(){var a=this.root;if(null!=a)for(;null!=a.right;)a=a.right;return a},__class__:fc});var Lc=function(a,b,c){this.signal=a;if(null==b)throw new ea("Slot cannot be null");this.slot=b;this.times=c;this.blocked=!1;this.connected=!0;this.calledTimes=0};h["hxsignal.impl.Connection"]=
Lc;Lc.__name__=!0;Lc.prototype={__class__:Lc};var Wa=function(){this.slots=new db};h["hxsignal.impl.SignalBase"]=Wa;Wa.__name__=!0;Wa.prototype={connect:function(a,b,c,d){null==b&&(b=Ga.Forever);this.updateConnection(a,b)||(a=new Lc(this,a,b),this.slots.insert(a,c,d))},updateConnection:function(a,b,c,d){var e=this.slots.get(a);if(null==e)return!1;if(null!=c&&e.groupId!=c||null!=d)return this.slots.disconnect(a),!1;e.times=b;e.calledTimes=0;return e.connected=!0},loop:function(a){this.emitting=!0;
for(var b=this.slots.groups.iterator();b.hasNext();)for(var c=b.next().h,d=null;null!=c;)if(d=c[0],c=c[1],d.connected&&!d.blocked){d.calledTimes++;a(d);d.connected||this.slots.disconnect(d.slot);d.times==Ga.Once&&(d.times=Ga.Times(1));var e=d.times;switch(e[1]){case 1:e[2]<=d.calledTimes&&this.slots.disconnect(d.slot)}}this.emitting=!1},disconnect:function(a){return this.slots.disconnect(a)},__class__:Wa};var Eb=function(){this.slots=new db};h["hxsignal.impl.ResponderSignal"]=Eb;Eb.__name__=!0;Eb.__super__=
Wa;Eb.prototype=v(Wa.prototype,{__class__:Eb});var gc=function(){this.slots=new db};h["hxsignal.impl.ResponderSignal0"]=gc;gc.__name__=!0;gc.__super__=Eb;gc.prototype=v(Eb.prototype,{emit:function(){var a,b=[];this.loop(function(c){a=c.slot();b.push(a)});null!=this.resultsProcessor&&(a=this.resultsProcessor(b));return a},__class__:gc});var Oa=function(){this.slots=new db};h["hxsignal.impl.Signal1"]=Oa;Oa.__name__=!0;Oa.__super__=Wa;Oa.prototype=v(Wa.prototype,{emit:function(a){this.loop(function(b){b.slot(a)})},
__class__:Oa});var hb=function(){this.slots=new db};h["hxsignal.impl.Signal2"]=hb;hb.__name__=!0;hb.__super__=Wa;hb.prototype=v(Wa.prototype,{emit:function(a,b){this.loop(function(c){c.slot(a,b)})},__class__:hb});var db=function(){this.clear()};h["hxsignal.impl.SlotMap"]=db;db.__name__=!0;db.prototype={clear:function(){this.slots=new Sa;this.groups=new fc;this.groups.set(0,new Db)},insert:function(a,b,c){null==c&&(c=Na.AtBack);this.slots.set(a.slot,a);var d;if(null==b)if(null!=c)switch(c[1]){case 1:b=
this.groups.firstKey();d=this.groups.firstValue();break;default:b=this.groups.lastKey(),d=this.groups.lastValue()}else b=this.groups.lastKey(),d=this.groups.lastValue();else d=this.groups.get(b),null==d&&(d=new Db,this.groups.set(b,d));a.groupId=b;if(null!=c)switch(c[1]){case 1:d.push(a);break;default:d.add(a)}else d.add(a)},get:function(a){return this.slots.h[a.__id__]},disconnect:function(a){var b=this.slots.h[a.__id__];if(null==b)return!1;this.slots.remove(a);b.connected=!1;return!0},__class__:db};
var ea=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,ea)};h["js._Boot.HaxeError"]=ea;ea.__name__=!0;ea.__super__=Error;ea.prototype=v(Error.prototype,{__class__:ea});var F=function(){};h["js.Boot"]=F;F.__name__=!0;F.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=F.__nativeClassName(a);return null!=a?F.__resolveNativeClass(a):null};F.__string_rec=function(a,b){if(null==
a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+F.__string_rec(a[f],b)):c+F.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+F.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return g instanceof ea&&(g=g.val),"???"}if(null!=
d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+F.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};F.__interfLoop=function(a,b){if(null==a)return!1;
if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||F.__interfLoop(f,b))return!0}return F.__interfLoop(a.__super__,b)};F.__instanceof=function(a,b){if(null==b)return!1;switch(b){case he:return(a|0)===a;case Kd:return"number"==typeof a;case Ld:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case ie:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||F.__interfLoop(F.getClass(a),
b))return!0}else{if("object"==typeof b&&F.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==je&&null!=a.__name__||b==ke&&null!=a.__ename__?!0:a.__enum__==b}};F.__cast=function(a,b){if(F.__instanceof(a,b))return a;throw new ea("Cannot cast "+Ka.string(a)+" to "+Ka.string(b));};F.__nativeClassName=function(a){a=F.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};F.__isNativeObj=function(a){return null!=F.__nativeClassName(a)};F.__resolveNativeClass=
function(a){return nd[a]};var Pa=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};h["js.html.compat.ArrayBuffer"]=Pa;Pa.__name__=!0;Pa.sliceImpl=function(a,b){var c=new rb(this,a,null==b?null:b-a),d=new sd(c.byteLength);(new rb(d)).set(c);return d};Pa.prototype={slice:function(a,b){return new Pa(this.a.slice(a,b))},__class__:Pa};var Mc=function(a,b,c){this.buf=a;this.offset=null==b?0:b;
this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new ea(V.OutsideBounds);};h["js.html.compat.DataView"]=Mc;Mc.__name__=!0;Mc.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:
this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Ma.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return Ma.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+
this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,
this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Ma.floatToI32(b),c)},setFloat64:function(a,b,c){b=Ma.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:Mc};var Qa=function(){};h["js.html.compat.Uint8Array"]=Qa;Qa.__name__=!0;Qa._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=
new Pa(c)}else if(F.__instanceof(a,Pa))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Pa(c);else throw new ea("TODO "+Ka.string(a));c.subarray=Qa._subarray;c.set=Qa._set;return c};Qa._set=function(a,b){if(F.__instanceof(a.buffer,Pa)){if(a.byteLength+b>this.byteLength)throw new ea("set() outside of range");for(var c=0,d=a.byteLength;c<
d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new ea("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new ea("TODO");};Qa._subarray=function(a,b){var c=Qa._new(this.slice(a,b));c.byteOffset=a;return c};var Nc=function(){this.audio=new aa;this.font=new aa;this.image=new aa;this.version=1E6*Math.random()|0};h["lime.AssetCache"]=Nc;Nc.__name__=!0;Nc.prototype={clear:function(a){if(null==a)this.audio=new aa,
this.font=new aa,this.image=new aa;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();La.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),La.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),La.startsWith(c,a)&&this.image.remove(c)}},__class__:Nc};var pa=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_Void_Void"]=pa;pa.__name__=!0;pa.prototype={add:function(a,
b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(){this.canceled=
!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?c++:this.remove(a[c]),!this.canceled););},__class__:pa};var Z=function(){};h["lime.Assets"]=Z;Z.__name__=!0;Z.initialize=function(){Z.initialized||(Z.registerLibrary("default",new bc),Z.initialized=!0)};Z.registerLibrary=function(a,b){var c=Z.libraries;if(null!=B[a]?c.existsReserved(a):c.h.hasOwnProperty(a)){c=Z.libraries;if((null!=B[a]?c.getReserved(a):c.h[a])==b)return;Z.unloadLibrary(a)}null!=b&&b.onChange.add(Z.library_onChange);
c=Z.libraries;null!=B[a]?c.setReserved(a,b):c.h[a]=b};Z.unloadLibrary=function(a){Z.initialize();var b=Z.libraries,b=null!=B[a]?b.getReserved(a):b.h[a];null!=b&&(Z.cache.clear(a+":"),b.onChange.remove(Z.library_onChange),b.unload());Z.libraries.remove(a)};Z.library_onChange=function(){Z.cache.clear();Z.onChange.dispatch()};var Oc=function(a){this.gameDeviceCache=new U;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;ib.init()};h["lime._backend.html5.HTML5Application"]=
Oc;Oc.__name__=!0;Oc.prototype={convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;case 35:return 1073741901;case 33:return 1073741899;case 34:return 1073741902;case 112:return 1073741882;
case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;
case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",l(this,this.handleKeyEvent),!1);window.addEventListener("keyup",l(this,this.handleKeyEvent),!1);window.addEventListener("focus",l(this,this.handleWindowEvent),!1);window.addEventListener("blur",l(this,this.handleWindowEvent),!1);window.addEventListener("resize",l(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",l(this,this.handleWindowEvent),
!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),g=
Math.max(0,16-(f-a)),h=window.setTimeout(function(){b(f+g)},g);a=f+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,
this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(l(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c=(a.shiftKey?
3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.windows[0].onKeyDown.dispatch(b,c),this.parent.windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.windows[0].onKeyUp.dispatch(b,c),this.parent.windows[0].onKeyUp.canceled&&a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.windows[0])switch(a.type){case "focus":this.parent.windows[0].onFocusIn.dispatch();this.parent.windows[0].onActivate.dispatch();break;case "blur":this.parent.windows[0].onFocusOut.dispatch();
this.parent.windows[0].onDeactivate.dispatch();break;case "resize":a=this.parent.windows[0].__width;var b=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize();this.parent.windows[0].__width==a&&this.parent.windows[0].__height==b||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height);break;case "beforeunload":this.parent.windows[0].onClose.dispatch()}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},
updateGameDevices:function(){var a=na.__getDeviceData();if(null!=a)for(var b,c,d,e,f,g=0,h=a.length;g<h;)if(b=g++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new Pc;f.id=b;f.connected=e.connected;c=0;for(d=e.buttons.length;c<d;){var k=c++;f.buttons.push(e.buttons[k].value)}c=0;for(d=e.axes.length;c<d;)k=c++,f.axes.push(e.axes[k]);"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(na.__connect(b),f.isGamepad&&ua.__connect(b))}f=this.gameDeviceCache.h[b];
d=na.devices.h[b];c=ua.devices.h[b];if(e.connected){for(var m,k=0,l=e.buttons.length;k<l;){var p=k++;b=e.buttons[p].value;if(b!=f.buttons[p]){if(6==p)d.onAxisMove.dispatch(e.axes.length,b),null!=c&&c.onAxisMove.dispatch(4,b);else if(7==p)d.onAxisMove.dispatch(e.axes.length+1,b),null!=c&&c.onAxisMove.dispatch(5,b);else if(0<b?d.onButtonDown.dispatch(p):d.onButtonUp.dispatch(p),null!=c){switch(p){case 0:m=0;break;case 1:m=1;break;case 2:m=2;break;case 3:m=3;break;case 4:m=9;break;case 5:m=10;break;
case 8:m=4;break;case 9:m=6;break;case 10:m=7;break;case 11:m=8;break;case 12:m=11;break;case 13:m=12;break;case 14:m=13;break;case 15:m=14;break;case 16:m=5;break;default:continue}0<b?c.onButtonDown.dispatch(m):c.onButtonUp.dispatch(m)}f.buttons[p]=b}}b=0;for(k=e.axes.length;b<k;)l=b++,e.axes[l]!=f.axes[l]&&(d.onAxisMove.dispatch(l,e.axes[l]),null!=c&&c.onAxisMove.dispatch(l,e.axes[l]),f.axes[l]=e.axes[l])}else f.connected&&(f.connected=!1,na.__disconnect(b),ua.__disconnect(b))}},__class__:Oc};var Pc=
function(){this.connected=!0;this.buttons=[];this.axes=[]};h["lime._backend.html5.GameDeviceData"]=Pc;Pc.__name__=!0;Pc.prototype={__class__:Pc};var qa=function(){};h["lime._backend.html5.HTML5Mouse"]=qa;qa.__name__=!0;qa.__cursor=null;qa.__hidden=null;qa.hide=function(){if(!qa.__hidden){qa.__hidden=!0;for(var a=0,b=ga.current.windows;a<b.length;){var c=b[a];++a;c.backend.element.style.cursor="none"}}};qa.show=function(){if(qa.__hidden){qa.__hidden=!1;var a=qa.__cursor;qa.__cursor=null;qa.set_cursor(a)}};
qa.set_cursor=function(a){if(qa.__cursor!=a){if(!qa.__hidden)for(var b=0,c=ga.current.windows;b<c.length;){var d=c[b];++b;var e;switch(a[1]){case 0:e="default";break;case 1:e="crosshair";break;case 3:e="move";break;case 4:e="pointer";break;case 5:e="nesw-resize";break;case 6:e="ns-resize";break;case 7:e="nwse-resize";break;case 8:e="ew-resize";break;case 9:e="text";break;case 10:e="wait";break;case 11:e="wait";break;default:e="auto"}d.backend.element.style.cursor=e}qa.__cursor=a}return qa.__cursor};
var Qc=function(a){this.parent=a};h["lime._backend.html5.HTML5Renderer"]=Qc;Qc.__name__=!0;Qc.prototype={create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",l(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",l(this,this.handleEvent),!1)}},createContext:function(){null!=this.parent.window.backend.div?(this.parent.context=va.DOM(this.parent.window.backend.div),
this.parent.type=H.DOM):null!=this.parent.window.backend.canvas&&(this.parent.context=va.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=H.CANVAS)},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:Qc};var Fb=function(a){this.unusedTouchesPool=
new Bb;this.currentTouches=new U;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element)};h["lime._backend.html5.HTML5Window"]=Fb;Fb.__name__=!0;Fb.prototype={close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=Fb.windowID++;F.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas");
null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select",
"none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.handleResize();
if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,l(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",l(this,
this.handleTouchEvent),!0);this.element.addEventListener("touchmove",l(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",l(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",l(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",l(this,this.handleGamepadEvent),!0)}},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":na.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&ua.__connect(a.gamepad.index);
break;case "gamepaddisconnected":na.__disconnect(a.gamepad.index),ua.__disconnect(a.gamepad.index)}},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type)switch(null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*
(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY),a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);break;case "mouseenter":this.parent.onEnter.dispatch();break;case "mouseleave":this.parent.onLeave.dispatch();break;case "mouseup":this.parent.onMouseUp.dispatch(b,c,a.button);break;case "mousemove":this.parent.onMouseMove.dispatch(b,c)}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY)},handleResize:function(){var a=this.parent.__fullscreen||
0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&a))if(a){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=
this.element.clientHeight+"px")}else a=Math.min(this.element.clientWidth/this.setWidth,this.element.clientHeight/this.setHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*a+"px",this.canvas.style.height=this.setHeight*a+"px",this.canvas.style.marginLeft=(this.element.clientWidth-this.setWidth*a)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px"):(this.div.style.width=this.setWidth*a+"px",this.div.style.height=this.setHeight*
a+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*a)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px")},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e=0,f=a.changedTouches;e<
f.length;){var g=f[e];++e;var h=0,k=0;null!=b?(h=c/b.width*(g.clientX-b.left),k=d/b.height*(g.clientY-b.top)):(h=g.clientX,k=g.clientY);switch(a.type){case "touchstart":var m=this.unusedTouchesPool.pop();null==m?m=new ya(h/c,k/d,g.identifier,0,0,g.force,this.parent.id):(m.x=h/c,m.y=k/d,m.id=g.identifier,m.dx=0,m.dy=0,m.pressure=g.force,m.device=this.parent.id);this.currentTouches.h[g.identifier]=m;ya.onStart.dispatch(m);null==this.primaryTouch&&(this.primaryTouch=m);m==this.primaryTouch&&this.parent.onMouseDown.dispatch(h,
k,0);break;case "touchend":m=this.currentTouches.h[g.identifier];if(null!=m){var l=m.x,p=m.y;m.x=h/c;m.y=k/d;m.dx=m.x-l;m.dy=m.y-p;m.pressure=g.force;ya.onEnd.dispatch(m);this.currentTouches.remove(g.identifier);this.unusedTouchesPool.add(m);m==this.primaryTouch&&(this.parent.onMouseUp.dispatch(h,k,0),this.primaryTouch=null)}break;case "touchmove":m=this.currentTouches.h[g.identifier],null!=m&&(l=m.x,p=m.y,m.x=h/c,m.y=k/d,m.dx=m.x-l,m.dy=m.y-p,m.pressure=g.force,ya.onMove.dispatch(m),m==this.primaryTouch&&
this.parent.onMouseMove.dispatch(h,k))}}},resize:function(a,b){},setFullscreen:function(a){return!1},__class__:Fb};var hc=function(){};h["lime.app.IModule"]=hc;hc.__name__=!0;hc.prototype={__class__:hc};var Gb=function(){this.onExit=new jb};h["lime.app.Module"]=Gb;Gb.__name__=!0;Gb.__interfaces__=[hc];Gb.prototype={onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){Id.log("onGamepadConnect (module)")},onGamepadDisconnect:function(a){},
onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},
onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},
onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__class__:Gb};var ga=function(){this.onUpdate=new jb;this.onExit=new jb;null==ga.current&&(ga.current=this);this.modules=[];this.renderers=[];this.windows=[];this.windowByID=new U;this.backend=new Oc(this);this.onExit.add(l(this,this.onModuleExit));this.onUpdate.add(l(this,this.update));ua.onConnect.add(l(this,
this.__onGamepadConnect));na.onConnect.add(l(this,this.__onJoystickConnect));ya.onStart.add(l(this,this.onTouchStart));ya.onMove.add(l(this,this.onTouchMove));ya.onEnd.add(l(this,this.onTouchEnd))};h["lime.app.Application"]=ga;ga.__name__=!0;ga.current=null;ga.__super__=Gb;ga.prototype=v(Gb.prototype,{addModule:function(a){this.modules.push(a);if(0<this.windows.length){for(var b=0,c=this.windows;b<c.length;){var d=c[b];++b;a.onWindowCreate(d)}if(null==this.preloader||this.preloader.complete)a.onPreloadComplete()}},
addRenderer:function(a){var b=l(this,this.render);a.onRender.add(function(){b(a)});var c=l(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=l(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)});this.renderers.push(a)},createWindow:function(a){var b=l(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=l(this,this.onWindowClose);a.onClose.add(function(){c(a)});var d=l(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=
l(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var f=l(this,this.onWindowDropFile);a.onDropFile.add(function(b){f(a,b)});var g=l(this,this.onWindowEnter);a.onEnter.add(function(){g(a)});var h=l(this,this.onWindowFocusIn);a.onFocusIn.add(function(){h(a)});var k=l(this,this.onWindowFocusOut);a.onFocusOut.add(function(){k(a)});var m=l(this,this.onWindowFullscreen);a.onFullscreen.add(function(){m(a)});var p=l(this,this.onKeyDown);a.onKeyDown.add(function(b,c){p(a,b,c)});var q=l(this,
this.onKeyUp);a.onKeyUp.add(function(b,c){q(a,b,c)});var n=l(this,this.onWindowLeave);a.onLeave.add(function(){n(a)});var u=l(this,this.onWindowMinimize);a.onMinimize.add(function(){u(a)});var w=l(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){w(a,b,c,d)});var y=l(this,this.onMouseMove);a.onMouseMove.add(function(b,c){y(a,b,c)});var A=l(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){A(a,b,c)});var v=l(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){v(a,b,c,d)});
var r=l(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){r(a,b,c)});var t=l(this,this.onWindowMove);a.onMove.add(function(b,c){t(a,b,c)});var z=l(this,this.onWindowResize);a.onResize.add(function(b,c){z(a,b,c)});var D=l(this,this.onWindowRestore);a.onRestore.add(function(){D(a)});var x=l(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){x(a,b,c,d)});var I=l(this,this.onTextInput);a.onTextInput.add(function(b){I(a,b)});if(null==a.renderer){var J=new Rc(a);this.addRenderer(J)}a.create(this);
this.windows.push(a);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){ga.current=this;return this.backend.exec()},onGamepadAxisMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onGamepadAxisMove(a,b,c)}},onGamepadButtonDown:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onGamepadButtonDown(a,b)}},onGamepadButtonUp:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onGamepadButtonUp(a,b)}},onGamepadConnect:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onGamepadConnect(a)}},onGamepadDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onGamepadDisconnect(a)}},onJoystickAxisMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickAxisMove(a,b,c)}},onJoystickButtonDown:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onJoystickButtonDown(a,b)}},onJoystickButtonUp:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=
d[c];++c;e.onJoystickButtonUp(a,b)}},onJoystickConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onJoystickConnect(a)}},onJoystickDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onJoystickDisconnect(a)}},onJoystickHatMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickHatMove(a,b,c)}},onJoystickTrackballMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickTrackballMove(a,
b,c)}},onKeyDown:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onKeyDown(a,b,c)}},onKeyUp:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onKeyUp(a,b,c)}},onModuleExit:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onModuleExit(a)}this.backend.exit()},onMouseDown:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onMouseDown(a,b,c,d)}},onMouseMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=
e[d];++d;f.onMouseMove(a,b,c)}},onMouseMoveRelative:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseMoveRelative(a,b,c)}},onMouseUp:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onMouseUp(a,b,c,d)}},onMouseWheel:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseWheel(a,b,c)}},onPreloadComplete:function(){for(var a=0,b=this.modules;a<b.length;){var c=b[a];++a;c.onPreloadComplete()}},onPreloadProgress:function(a,
b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onPreloadProgress(a,b)}},onRenderContextLost:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onRenderContextLost(a)}},onRenderContextRestored:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onRenderContextRestored(a,b)}},onTextEdit:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onTextEdit(a,b,c,d)}},onTextInput:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=
d[c];++c;e.onTextInput(a,b)}},onTouchEnd:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchEnd(a)}},onTouchMove:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchMove(a)}},onTouchStart:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchStart(a)}},onWindowActivate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowActivate(a)}},onWindowClose:function(a){for(var b=0,c=this.modules;b<c.length;){var d=
c[b];++b;d.onWindowClose(a)}this.removeWindow(a)},onWindowCreate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowCreate(a)}},onWindowDeactivate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowDeactivate(a)}},onWindowDropFile:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onWindowDropFile(a,b)}},onWindowEnter:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowEnter(a)}},onWindowFocusIn:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFocusIn(a)}},onWindowFocusOut:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFocusOut(a)}},onWindowFullscreen:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFullscreen(a)}},onWindowLeave:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowLeave(a)}},onWindowMinimize:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowMinimize(a)}},onWindowMove:function(a,
b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onWindowMove(a,b,c)}},onWindowResize:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onWindowResize(a,b,c)}},onWindowRestore:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowRestore(a)}},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(G.remove(this.windows,a),this.windowByID.remove(a.id),a.close(),this.windows[0]==a&&(this.window=null))},render:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.render(a)}},setPreloader:function(a){null!=this.preloader&&(this.preloader.onProgress.remove(l(this,this.onPreloadProgress)),this.preloader.onComplete.remove(l(this,this.onPreloadComplete)));this.preloader=a;if(a.complete)this.onPreloadComplete();else a.onProgress.add(l(this,this.onPreloadProgress)),a.onComplete.add(l(this,this.onPreloadComplete))},update:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.update(a)}},__onGamepadConnect:function(a){this.onGamepadConnect(a);
var b=l(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=l(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=l(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=l(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onJoystickConnect:function(a){this.onJoystickConnect(a);var b=l(this,this.onJoystickAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=l(this,this.onJoystickButtonDown);a.onButtonDown.add(function(b){c(a,
b)});var d=l(this,this.onJoystickButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=l(this,this.onJoystickDisconnect);a.onDisconnect.add(function(){e(a)});var f=l(this,this.onJoystickHatMove);a.onHatMove.add(function(b,c){f(a,b,c)});var g=l(this,this.onJoystickTrackballMove);a.onTrackballMove.add(function(b,c){g(a,b,c)})},__class__:ga});var kb=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_Dynamic_Void"]=kb;kb.__name__=!0;kb.prototype={add:function(a,
b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:kb};var ic=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_Float_Float_Int_Void"]=ic;ic.__name__=!0;ic.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,
0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?f++:this.remove(d[f]),!this.canceled););},__class__:ic};var tb=function(){this.canceled=!1;this.__listeners=
[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_Float_Float_Void"]=tb;tb.__name__=!0;tb.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:tb};var jc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_Int_Float_Void"]=jc;jc.__name__=!0;jc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&
(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:jc};var kc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_Int_Int_Void"]=kc;kc.__name__=!0;kc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:kc};var jb=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_Int_Void"]=
jb;jb.__name__=!0;jb.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),
this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:jb};var Sc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=Sc;Sc.__name__=!0;Sc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:Sc};var Tc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_String_Int_Int_Void"]=Tc;Tc.__name__=!0;Tc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:Tc};var lc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_String_Void"]=lc;lc.__name__=!0;lc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,
0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:lc};var Uc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_lime_graphics_RenderContext_Void"]=Uc;Uc.__name__=!0;Uc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,
0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Uc};var Vc=function(){this.canceled=!1;this.__listeners=[];
this.__priorities=[];this.__repeat=[]};h["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=Vc;Vc.__name__=!0;Vc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Vc};var mc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_lime_ui_GamepadButton_Void"]=mc;mc.__name__=!0;mc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=
this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,
d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:mc};var Wc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_lime_ui_Gamepad_Void"]=Wc;Wc.__name__=!0;Wc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Wc};var Xc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};
h["lime.app.Event_lime_ui_Joystick_Void"]=Xc;Xc.__name__=!0;Xc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,
1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Xc};var nc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=nc;nc.__name__=!0;nc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,
d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:nc};var Hb=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app.Event_lime_ui_Touch_Void"]=Hb;Hb.__name__=!0;Hb.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)P.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Hb};var wa=function(a){if(null!=a){null==wa.__threadPool&&(wa.__threadPool=new Yc,wa.__threadPool.doWork.add(wa.threadPool_doWork),
wa.__threadPool.onComplete.add(wa.threadPool_onComplete),wa.__threadPool.onError.add(wa.threadPool_onError));var b=new oc;b.future=this;wa.__threadPool.queue({promise:b,work:a})}};h["lime.app.Future"]=wa;wa.__name__=!0;wa.__threadPool=null;wa.threadPool_doWork=function(a){try{var b=a.work();wa.__threadPool.sendComplete({promise:a.promise,result:b})}catch(c){c instanceof ea&&(c=c.val),wa.__threadPool.sendError({promise:a.promise,error:c})}};wa.threadPool_onComplete=function(a){a.promise.complete(a.result)};
wa.threadPool_onError=function(a){a.promise.error(a.error)};wa.prototype={onComplete:function(a){null!=a&&(this.__completed?a(this.value):this.__errored||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},__class__:wa};var xa=function(){this.loaded=this.total=0;this.onProgress=new kc;this.onComplete=new pa;this.onProgress.add(l(this,this.update))};h["lime.app.Preloader"]=xa;xa.__name__=!0;xa.prototype={create:function(a){},load:function(a,
b){for(var c=null,d=Z.cache.version,e=0,f=a.length;e<f;){var g=e++,c=a[g];switch(b[g]){case "IMAGE":g=xa.images;if(null!=B[c]?!g.existsReserved(c):!g.h.hasOwnProperty(c)){var g=new Image,h=xa.images;null!=B[c]?h.setReserved(c,g):h.h[c]=g;g.onload=l(this,this.image_onLoad);g.src=c+"?"+d;this.total++}break;case "BINARY":g=xa.loaders;(null!=B[c]?g.existsReserved(c):g.h.hasOwnProperty(c))||(g=new pc,h=xa.loaders,null!=B[c]?h.setReserved(c,g):h.h[c]=g,this.total++);break;case "TEXT":g=xa.loaders;(null!=
B[c]?g.existsReserved(c):g.h.hasOwnProperty(c))||(g=new pc,h=xa.loaders,null!=B[c]?h.setReserved(c,g):h.h[c]=g,this.total++);break;case "FONT":this.total++,this.loadFont(c)}}for(c=xa.loaders.keys();c.hasNext();)e=c.next(),f=xa.loaders,(null!=B[e]?f.getReserved(e):f.h[e]).load(e+"?"+d).onComplete(l(this,this.loader_onComplete));0==this.total&&this.start()},loadFont:function(a){var b=this;if(window.document.fonts&&(qc=window.document.fonts,l(qc,qc.load)))window.document.fonts.load("1em '"+a+"'").then(function(a){b.loaded++;
b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start()});else{var c=window.document.createElement("span");c.innerHTML="giItT1WQy@!-/#";var d=c.style;d.position="absolute";d.left="-10000px";d.top="-10000px";d.fontSize="300px";d.fontFamily="sans-serif";d.fontVariant="normal";d.fontStyle="normal";d.fontWeight="normal";d.letterSpacing="0";window.document.body.appendChild(c);var e=c.offsetWidth;d.fontFamily="'"+a+"', sans-serif";var f=null,g=!1;a=function(){if(c.offsetWidth!=e){if(!g)return g=
!0,!1;b.loaded++;null!=f&&window.clearInterval(f);c.parentNode.removeChild(c);c=null;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start();return!0}return!1};a()||(f=window.setInterval(a,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(a,b){},image_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},loader_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,
this.total);this.loaded==this.total&&this.start()},__class__:xa};var oc=function(){this.future=new wa};h["lime.app.Promise"]=oc;oc.__name__=!0;oc.prototype={complete:function(a){if(!this.future.__errored&&(this.future.__completed=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},error:function(a){if(!this.future.__completed&&(this.future.__errored=!0,this.future.__errorMessage=
a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a){if(!this.future.__errored&&!this.future.__completed&&null!=this.future.__progressListeners)for(var b=0,c=this.future.__progressListeners;b<c.length;){var d=c[b];++b;d(a)}return this},__class__:oc};var Md=function(){};h["lime.audio.ALAudioContext"]=Md;Md.__name__=!0;var Nd=function(){};h["lime.audio.ALCAudioContext"]=
Nd;Nd.__name__=!0;var Od=function(){};h["lime.audio.AudioBuffer"]=Od;Od.__name__=!0;var Ha=h["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Ha.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=Ha;c.toString=q;return c};Ha.HTML5=function(a){a=["HTML5",1,a];a.__enum__=Ha;a.toString=q;return a};Ha.WEB=function(a){a=["WEB",2,a];a.__enum__=Ha;a.toString=q;return a};Ha.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Ha;a.toString=q;return a};Ha.CUSTOM=
function(a){a=["CUSTOM",4,a];a.__enum__=Ha;a.toString=q;return a};var ib=function(){};h["lime.audio.AudioManager"]=ib;ib.__name__=!0;ib.context=null;ib.init=function(a){if(null==ib.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,ib.context=Ha.WEB(new AudioContext)}catch(b){b instanceof ea&&(b=b.val),ib.context=Ha.HTML5(new Zc)}else ib.context=a};var ud=function(){};h["lime.audio.AudioSource"]=ud;ud.__name__=!0;ud.prototype={__class__:ud};var Pd=function(){};
h["lime.audio.FlashAudioContext"]=Pd;Pd.__name__=!0;var Zc=function(){};h["lime.audio.HTML5AudioContext"]=Zc;Zc.__name__=!0;Zc.prototype={__class__:Zc};var vd=function(){};h["lime.graphics.ConsoleRenderContext"]=vd;vd.__name__=!0;vd.prototype={__class__:vd};var Qd=function(){};h["lime.graphics.FlashRenderContext"]=Qd;Qd.__name__=!0;var ja=function(a,b,c,d,e,f,g){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;if(null==g)if(null!=
ga.current&&null!=ga.current.renderers[0]){switch(ga.current.renderers[0].context[1]){case 2:case 1:b=ra.CANVAS;break;case 3:b=ra.FLASH;break;default:b=ra.DATA}this.type=b}else this.type=ra.DATA;else this.type=g;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=new ub(null,d,e);ka.createCanvas(this,d,e);null!=f&&this.fillRect(new Ib(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new rb(a):null,this.buffer=new ub(a,d,e),null!=f&&this.fillRect(new Ib(0,0,d,e),f)}}else this.__fromImageBuffer(a)};
h["lime.graphics.Image"]=ja;ja.__name__=!0;ja.__base64Encoder=null;ja.fromBytes=function(a,b){if(null==a)return null;var c=new ja;c.__fromBytes(a,b);return c};ja.fromCanvas=function(a){if(null==a)return null;var b=new ub(null,a.width,a.height);b.set_src(a);return new ja(b)};ja.__base64Encode=function(a){var b;switch(a.length%3){case 1:b="==";break;case 2:b="=";break;default:b=""}null==ja.__base64Encoder&&(ja.__base64Encoder=new Kc(da.ofString(ja.__base64Chars)));return ja.__base64Encoder.encodeBytes(a).toString()+
b};ja.__isJPG=function(a){return 255==a.b[0]&&216==a.b[1]};ja.__isPNG=function(a){return 137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]&&10==a.b[7]};ja.__isGIF=function(a){if(71==a.b[0]&&73==a.b[1]&&70==a.b[2]&&56==a.b[3]){var b=a.b[4];return(55==b||57==b)&&97==a.b[5]}return!1};ja.prototype={fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:ka.fillRect(this,a,b,c);break;case 1:ka.convertToData(this);if(0==this.buffer.data.length)break;
wd.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null!=c)switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>8&255)<<16|(b>>16&255)<<8|b>>24&255;break;default:b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255}else b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255;this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=
this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,e=new Image;e.crossOrigin="Anonymous";e.addEventListener("load",function(a){d.buffer=new ub(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){var c="";if(ja.__isPNG(a))c="image/png";
else if(ja.__isJPG(a))c="image/jpeg";else if(ja.__isGIF(a))c="image/gif";else throw new ea("Image tried to read PNG/JPG Bytes, but found an invalid header.");this.__fromBase64(ja.__base64Encode(a),c,b)},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_rect:function(){return new Ib(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&ka.convertToCanvas(this);return this.buffer.get_src()},
get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:ja,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src"}};var ub=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.transparent=!0};h["lime.graphics.ImageBuffer"]=
ub;ub.__name__=!0;ub.prototype={get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){F.__instanceof(a,Image)?this.__srcImage=a:F.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:ub,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var ra=h["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS",
"DATA","FLASH","CUSTOM"]};ra.CANVAS=["CANVAS",0];ra.CANVAS.toString=q;ra.CANVAS.__enum__=ra;ra.DATA=["DATA",1];ra.DATA.toString=q;ra.DATA.__enum__=ra;ra.FLASH=["FLASH",2];ra.FLASH.toString=q;ra.FLASH.__enum__=ra;ra.CUSTOM=["CUSTOM",3];ra.CUSTOM.toString=q;ra.CUSTOM.__enum__=ra;var va=h["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};va.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=va;a.toString=q;return a};va.CANVAS=function(a){a=
["CANVAS",1,a];a.__enum__=va;a.toString=q;return a};va.DOM=function(a){a=["DOM",2,a];a.__enum__=va;a.toString=q;return a};va.FLASH=function(a){a=["FLASH",3,a];a.__enum__=va;a.toString=q;return a};va.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=va;a.toString=q;return a};va.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=va;a.toString=q;return a};va.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=va;a.toString=q;return a};va.NONE=["NONE",7];va.NONE.toString=q;va.NONE.__enum__=va;var Rc=function(a){this.onRender=
new pa;this.onContextRestored=new Uc;this.onContextLost=new pa;this.window=a;this.backend=new Qc(this);this.window.renderer=this};h["lime.graphics.Renderer"]=Rc;Rc.__name__=!0;Rc.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:Rc};var H=h["lime.graphics.RendererType"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};H.OPENGL=["OPENGL",0];H.OPENGL.toString=q;H.OPENGL.__enum__=H;H.CANVAS=["CANVAS",1];H.CANVAS.toString=
q;H.CANVAS.__enum__=H;H.DOM=["DOM",2];H.DOM.toString=q;H.DOM.__enum__=H;H.FLASH=["FLASH",3];H.FLASH.toString=q;H.FLASH.__enum__=H;H.CAIRO=["CAIRO",4];H.CAIRO.toString=q;H.CAIRO.__enum__=H;H.CONSOLE=["CONSOLE",5];H.CONSOLE.toString=q;H.CONSOLE.__enum__=H;H.CUSTOM=["CUSTOM",6];H.CUSTOM.toString=q;H.CUSTOM.__enum__=H;var xd=function(){};h["lime.graphics.cairo.Cairo"]=xd;xd.__name__=!0;xd.prototype={arc:function(a,b,c,d,e){},clip:function(){},curveTo:function(a,b,c,d,e,f){},fill:function(){},identityMatrix:function(){},
lineTo:function(a,b){},moveTo:function(a,b){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},popGroupToSource:function(){},pushGroup:function(){},rectangle:function(a,b,c,d){},restore:function(){},save:function(){},setSourceRGB:function(a,b,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(a){return a},set_source:function(a){return a},__class__:xd,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",
get_currentPoint:"get_currentPoint"}};var yd={};h["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=yd;yd.__name__=!0;yd.fromImage=function(a){return null};var Jb={};h["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=Jb;Jb.__name__=!0;Jb.__properties__={set_filter:"set_filter"};Jb.createForSurface=function(a){return 0};Jb.set_filter=function(a,b){return b};var ka=function(){};h["lime.graphics.utils.ImageCanvasUtil"]=ka;ka.__name__=!0;ka.convertToCanvas=function(a){var b=a.buffer;
null!=b.__srcImage?(null==b.__srcCanvas&&(ka.createCanvas(a,b.__srcImage.width,b.__srcImage.height),b.__srcContext.drawImage(b.__srcImage,0,0)),b.__srcImage=null):null!=b.data&&null==b.__srcCanvas?(ka.createCanvas(a,b.width,b.height),ka.createImageData(a)):null==b.data&&null!=b.__srcImageData&&(b.data=b.__srcImageData.data)};ka.convertToData=function(a){null==a.buffer.data&&(ka.convertToCanvas(a),ka.sync(a,!1),ka.createImageData(a),a.buffer.__srcCanvas=null,a.buffer.__srcContext=null)};ka.createCanvas=
function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};ka.createImageData=function(a){a=
a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new rb(b):null;a.data=b}};ka.fillRect=function(a,b,c,d){ka.convertToCanvas(a);ka.sync(a,!0);if(0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==(c&255))a.buffer.__srcCanvas.width=a.buffer.width;else{var e,f;1==
d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?c&255:255);a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")";a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)}};ka.sync=function(a,b){a.dirty&&null!=a.buffer.__srcImageData&&a.type!=ra.DATA&&(a.buffer.__srcContext.putImageData(a.buffer.__srcImageData,0,0),a.buffer.data=null,a.dirty=!1);b&&(a.buffer.__srcImageData=
null,a.buffer.data=null)};var wd=function(){};h["lime.graphics.utils.ImageDataUtil"]=wd;wd.__name__=!0;wd.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>16&255)<<24|(c>>8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255);d=a.buffer.data;if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new $c(a,b);for(var g,h=0,k=b.height;h<k;){g=h++;g=b.offset+b.stride*g;for(var m=
0,l=b.width;m<l;){var p=m++,p=g+4*p;f&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(la.a16=la.__alpha16[c&255],c=((c>>24&255)*la.a16>>16&255)<<24|((c>>16&255)*la.a16>>16&255)<<16|((c>>8&255)*la.a16>>16&255)<<8|c&255));switch(e){case 2:d[p]=c>>8&255;d[p+1]=c>>16&255;d[p+2]=c>>24&255;d[p+3]=c&255;break;case 0:d[p]=c>>24&255;d[p+1]=c>>16&255;d[p+2]=c>>8&255;d[p+3]=c&255;break;case 1:d[p]=c&255,d[p+1]=c>>24&255,d[p+2]=c>>16&255,d[p+3]=c>>8&255}}}a.dirty=!0}};var $c=function(a,b){this.image=a;null==b?this.rect=
a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};h["lime.graphics.utils._ImageDataUtil.ImageDataView"]=$c;$c.__name__=
!0;$c.prototype={__class__:$c};var rc=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};h["lime.math.Matrix3"]=rc;rc.__name__=!0;rc.prototype={__class__:rc};var Ib=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};h["lime.math.Rectangle"]=Ib;Ib.__name__=!0;Ib.prototype={offset:function(a,b){this.x+=a;this.y+=
b},__toFlashRectangle:function(){return null},__class__:Ib};var ad=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["lime.math.Vector2"]=ad;ad.__name__=!0;ad.prototype={__class__:ad};var Rd=function(){};h["lime.math.Vector4"]=Rd;Rd.__name__=!0;var la={};h["lime.math.color._RGBA.RGBA_Impl_"]=la;la.__name__=!0;la.__alpha16=null;la.__clamp=null;la.a16=null;var pc=function(){this.promise=new oc};h["lime.net.HTTPRequest"]=pc;pc.__name__=!0;pc.prototype={load:function(a){var b=this;this.bytesTotal=
this.bytesLoaded=0;var c=new XMLHttpRequest;c.addEventListener("progress",l(this,this.request_onProgress),!1);c.onreadystatechange=function(){4==c.readyState&&(null!=c.status&&200<=c.status&&400>=c.status?(b.bytes=Ta.ofData(c.response),b.promise.complete(b.bytes)):b.promise.error(c.status))};c.open("GET",a,!0);c.responseType="arraybuffer";c.send("");return this.promise.future},request_onProgress:function(a){this.promise.progress(a.loaded/a.total)},__class__:pc};var bd=function(){this.onComplete=new kb;
this.doWork=new kb};h["lime.system.BackgroundWorker"]=bd;bd.__name__=!0;bd.prototype={run:function(a){this.canceled=!1;this.__runMessage=a;this.__doWork()},sendComplete:function(a){this.canceled||(this.canceled=!0,this.onComplete.dispatch(a))},__doWork:function(){this.doWork.dispatch(this.__runMessage)},__class__:bd};var sc=function(){};h["lime.system.System"]=sc;sc.__name__=!0;sc.embed=Qb.lime.embed=function(a,b,c,d,e){var f=null,f="string"==typeof a?window.document.getElementById(F.__cast(a,String)):
null==a?window.document.createElement("div"):a;a=null;null!=d&&(d=La.replace(d,"#",""),a=-1<d.indexOf("0x")?Ka.parseInt(d):Ka.parseInt("0x"+d));null==b&&(b=0);null==c&&(c=0);O.config.windows[0].background=a;O.config.windows[0].element=f;O.config.windows[0].width=b;O.config.windows[0].height=c;O.config.assetsPrefix=e;O.create()};sc.getTimer=function(){return(new Date).getTime()};var Yc=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onError=new kb;this.onComplete=new kb;this.doWork=new kb;this.minThreads=
a;this.maxThreads=b;this.currentThreads=0};h["lime.system.ThreadPool"]=Yc;Yc.__name__=!0;Yc.prototype={queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},__class__:Yc};var ua=function(a){this.onDisconnect=new pa;this.onButtonUp=new mc;this.onButtonDown=new mc;this.onAxisMove=new Vc;this.id=a;this.connected=!0};h["lime.ui.Gamepad"]=ua;ua.__name__=!0;ua.__connect=function(a){if(!ua.devices.h.hasOwnProperty(a)){var b=
new ua(a);ua.devices.h[a]=b;ua.onConnect.dispatch(b)}};ua.__disconnect=function(a){var b=ua.devices.h[a];null!=b&&(b.connected=!1);ua.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};ua.prototype={__class__:ua};var na=function(a){this.onTrackballMove=new jc;this.onHatMove=new Sc;this.onDisconnect=new pa;this.onButtonUp=new jb;this.onButtonDown=new jb;this.onAxisMove=new jc;this.id=a;this.connected=!0};h["lime.ui.Joystick"]=na;na.__name__=!0;na.__connect=function(a){if(!na.devices.h.hasOwnProperty(a)){var b=
new na(a);na.devices.h[a]=b;na.onConnect.dispatch(b)}};na.__disconnect=function(a){var b=na.devices.h[a];null!=b&&(b.connected=!1);na.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};na.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};na.prototype={__class__:na};var W={};h["lime.ui._KeyModifier.KeyModifier_Impl_"]=W;W.__name__=!0;W.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",
get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};W.get_altKey=function(a){return 0<(a&256)||0<(a&512)};W.get_ctrlKey=function(a){return 0<(a&64)||0<(a&128)};W.get_metaKey=function(a){return 0<(a&1024)||0<(a&2048)};W.get_shiftKey=function(a){return 0<(a&1)||0<(a&2)};var Xa=function(){};h["lime.ui.Mouse"]=Xa;Xa.__name__=!0;Xa.__properties__={set_cursor:"set_cursor"};Xa.hide=function(){qa.hide()};Xa.show=function(){qa.show()};Xa.set_cursor=function(a){return qa.set_cursor(a)};var r=h["lime.ui.MouseCursor"]=
{__ename__:!0,__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};r.ARROW=["ARROW",0];r.ARROW.toString=q;r.ARROW.__enum__=r;r.CROSSHAIR=["CROSSHAIR",1];r.CROSSHAIR.toString=q;r.CROSSHAIR.__enum__=r;r.DEFAULT=["DEFAULT",2];r.DEFAULT.toString=q;r.DEFAULT.__enum__=r;r.MOVE=["MOVE",3];r.MOVE.toString=q;r.MOVE.__enum__=r;r.POINTER=["POINTER",4];r.POINTER.toString=q;r.POINTER.__enum__=r;r.RESIZE_NESW=["RESIZE_NESW",5];
r.RESIZE_NESW.toString=q;r.RESIZE_NESW.__enum__=r;r.RESIZE_NS=["RESIZE_NS",6];r.RESIZE_NS.toString=q;r.RESIZE_NS.__enum__=r;r.RESIZE_NWSE=["RESIZE_NWSE",7];r.RESIZE_NWSE.toString=q;r.RESIZE_NWSE.__enum__=r;r.RESIZE_WE=["RESIZE_WE",8];r.RESIZE_WE.toString=q;r.RESIZE_WE.__enum__=r;r.TEXT=["TEXT",9];r.TEXT.toString=q;r.TEXT.__enum__=r;r.WAIT=["WAIT",10];r.WAIT.toString=q;r.WAIT.__enum__=r;r.WAIT_ARROW=["WAIT_ARROW",11];r.WAIT_ARROW.toString=q;r.WAIT_ARROW.__enum__=r;r.CUSTOM=["CUSTOM",12];r.CUSTOM.toString=
q;r.CUSTOM.__enum__=r;var ya=function(a,b,c,d,e,f,g){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=g};h["lime.ui.Touch"]=ya;ya.__name__=!0;ya.prototype={__class__:ya};var vb=function(a){this.onTextInput=new lc;this.onTextEdit=new Tc;this.onRestore=new pa;this.onResize=new kc;this.onMove=new tb;this.onMouseWheel=new tb;this.onMouseUp=new ic;this.onMouseMoveRelative=new tb;this.onMouseMove=new tb;this.onMouseDown=new ic;this.onMinimize=new pa;this.onLeave=new pa;this.onKeyUp=
new nc;this.onKeyDown=new nc;this.onFullscreen=new pa;this.onFocusOut=new pa;this.onFocusIn=new pa;this.onEnter=new pa;this.onDropFile=new lc;this.onDeactivate=new pa;this.onCreate=new pa;this.onClose=new pa;this.onActivate=new pa;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=
a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=a.fullscreen),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new Fb(this)};h["lime.ui.Window"]=
vb;vb.__name__=!0;vb.prototype={close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:vb,__properties__:{set_width:"set_width",
set_height:"set_height",set_fullscreen:"set_fullscreen"}};var Ta=function(a,b){da.call(this,b)};h["lime.utils.Bytes"]=Ta;Ta.__name__=!0;Ta.alloc=function(a){a=da.alloc(a);return new Ta(a.length,a.b.bufferValue)};Ta.ofData=function(a){a=da.ofData(a);return new Ta(a.length,a.b.bufferValue)};Ta.ofString=function(a){a=da.ofString(a);return new Ta(a.length,a.b.bufferValue)};Ta.__super__=da;Ta.prototype=v(da.prototype,{__class__:Ta});var t=function(){};h["mikedotalmond.openfl.Env"]=t;t.__name__=!0;t.width=
null;t.height=null;t.scaleFactor=null;t.screenDensity=null;t.inputs=null;t.fullscreenChange=null;t.stageResized=null;t.stamp=null;t.container=null;t.canvas=null;t.setup=function(){t.inputs=new cd;var a=Ya.get_screenDPI();t.screenDensity=200>a?1:300>a?1.5:2;M.current.stage.addEventListener("resize",t.stage_onResize);t.stageResized=new hb;t.fullscreenChange=new Oa;t.scaleFactor=1;var b=window,a=window.document;t.container=a.getElementById("openfl-content");t.canvas=t.container.firstElementChild;b.addEventListener("resize",
t.handleDomResize);var c;if(Object.prototype.hasOwnProperty.call(b,"screenfull")){var d;c=null==b?null:b.__properties__&&(d=b.__properties__.get_screenfull)?b[d]():b.screenfull}else c=null;var e=c;null!=e&&e.enabled&&a.addEventListener(e.raw.fullscreenchange,function(a){t.fullscreenChange.emit(e.isFullscreen);b.dispatchEvent(new Event("resize"))});t.handleDomResize(null);t.stage_onResize(null)};t.toggleFullscreen=function(){var a=window;if(Object.prototype.hasOwnProperty.call(a,"screenfull"))var b,
a=null==a?null:a.__properties__&&(b=a.__properties__.get_screenfull)?a[b]():a.screenfull;else a=null;b=a;null!=b&&b.enabled&&b.toggle(t.container)};t.handleDomResize=function(a){t.scaleFactor=t.canvas.clientWidth/t.canvas.width};t.stage_onResize=function(a){t.width=Math.ceil(M.current.stage.stageWidth/t.screenDensity);t.height=Math.ceil(M.current.stage.stageHeight/t.screenDensity);t.stageResized.emit(t.width,t.height)};var cd=function(){this.mouseVelocity=this.lastFrameTime=this.lastMouseX=this.lastMouseY=
this.lastMouseUp=this.lastMouseDown=0;this.mouseIdle=!1;this.lastMouseMove=this.lastMouseMoveWhileHeld=this.mouseX=this.mouseY=this.mouseDeltaX=this.mouseDeltaY=0;this.now=t.stamp();this.keyUp=new Oa;this.keyDown=new Oa;this.click=new hb;this.doubleClick=new hb;this.enterFrame=new hb;this.mouseIdleChange=new Oa;this.mouseHasMoved=this.mouseIsDown=!1;M.current.stage.addEventListener("keyUp",l(this,this.onKey));M.current.stage.addEventListener("keyDown",l(this,this.onKey));M.current.addEventListener("mouseUp",
l(this,this.onMouse));M.current.addEventListener("mouseDown",l(this,this.onMouse));M.current.addEventListener("enterFrame",l(this,this.onEnterFrame))};h["mikedotalmond.openfl.Inputs"]=cd;cd.__name__=!0;cd.prototype={onKey:function(a){"keyDown"==a.type?this.keyDown.emit(a.keyCode):this.keyUp.emit(a.keyCode)},onMouse:function(a){var b=this.mouseIsDown;switch(a.type){case "mouseDown":this.mouseIsDown=!0;break;case "mouseUp":this.mouseIsDown=!1}this.mouseX=a.stageX;this.mouseY=a.stageY;b!=this.mouseIsDown&&
this.checkClick()},checkClick:function(){var a=t.stamp();this.mouseIsDown?this.lastMouseDown=a:(.25>a-this.lastMouseUp?(this.lastMouseUp=0,this.doubleClick.emit(this.mouseX,this.mouseY)):.15>a-this.lastMouseDown&&this.click.emit(this.mouseX,this.mouseY),this.lastMouseUp=a)},onEnterFrame:function(a){this.now=t.stamp();a=this.now-this.lastFrameTime;var b=this.lastFrameTime=this.now,c=M.current.get_mouseX(),d=M.current.get_mouseY();this.mouseHasMoved=this.mouseX!=c||this.mouseY!=d;this.mouseX=c;this.mouseY=
d;this.mouseHasMoved?(this.mouseDeltaX=c-this.lastMouseX,this.mouseDeltaY=d-this.lastMouseY,this.lastMouseX=c,this.lastMouseY=d,this.lastMouseMove=b,this.mouseIsDown&&(this.lastMouseMoveWhileHeld=b)):this.mouseDeltaX=this.mouseDeltaY=0;this.mouseVelocity+=.8*(this.mouseDeltaX*this.mouseDeltaX+this.mouseDeltaY*this.mouseDeltaY-this.mouseVelocity);1E-5>(0>this.mouseVelocity?-this.mouseVelocity:this.mouseVelocity)&&(this.mouseVelocity=0);4<b-this.lastMouseMove?this.mouseIdle||(this.mouseIdle=!0,this.mouseIdleChange.emit(this.mouseIdle),
tc.hide()):this.mouseIdle&&(this.mouseIdle=!1,this.mouseIdleChange.emit(this.mouseIdle),tc.show());this.enterFrame.emit(this.now,a);this.mouseHasMoved=!1},__class__:cd};var Gc=function(){this.lastTime=-1;this.container=window.document.getElementById("camera-container");this.video=this.container.querySelector("video");this.canvas=this.container.querySelector("canvas");this.context=this.canvas.getContext("2d");this.streamReady=new Oa;this.streamError=new Oa;this.frameData=new Oa;this.frameRequired=
new gc};h["mikedotalmond.tools.js.CameraInput"]=Gc;Gc.__name__=!0;Gc.prototype={connect:function(a){null!=this.stream&&this.disconnect();this.constraints=a;this.width=a.video.width;this.height=a.video.height;this.frameRate=a.video.frameRate.ideal;this.frameTime=1/a.video.frameRate.ideal;window.userMediaShim.getUserMedia(this.video,a,l(this,this.onStreamConnect),(qc=this.streamError,l(qc,qc.emit)))},disconnect:function(){t.inputs.enterFrame.disconnect(l(this,this.update));this.lastTime=0;null!=this.stream&&
(this.stream.getTracks()[0].stop(),this.stream=null)},onStreamConnect:function(a,b){this.stream=b;if(a){var c=this.video.videoWidth/this.video.videoHeight;this.width/this.height!=c&&(this.width>this.height?this.height=this.width/c|0:this.width=this.height/c|0);this.canvas.width=this.video.width=this.width;this.canvas.height=this.video.height=this.height;this.onStreamReady(this.video,b)}this.streamReady.emit(a)},onStreamReady:function(a,b){this.stream=b;t.inputs.enterFrame.disconnect(l(this,this.update));
t.inputs.enterFrame.connect(l(this,this.update));a.play()},update:function(a,b){if(!(a-this.lastTime<this.frameTime)&&this.frameRequired.emit()){this.lastTime=a;this.context.drawImage(this.video,0,0,this.width,this.height);var c=this.context.getImageData(0,0,this.width,this.height);this.frameData.emit(c.data)}},__class__:Gc};var uc=function(){ia.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0};h["openfl.display.MovieClip"]=uc;uc.__name__=!0;uc.__super__=
ia;uc.prototype=v(ia.prototype,{__class__:uc});var Va=function(){L.call(this);this.applicationDomain=wb.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};h["openfl.display.LoaderInfo"]=Va;Va.__name__=!0;Va.create=function(a){var b=new Va;b.uncaughtErrorEvents=new vc;null!=a?b.loader=a:b.url=Va.__rootURL;return b};Va.__super__=L;Va.prototype=v(L.prototype,{__class__:Va});var wb=function(a){this.parentDomain=null!=a?a:wb.currentDomain};h["openfl.system.ApplicationDomain"]=
wb;wb.__name__=!0;wb.prototype={__class__:wb};var vc=function(){L.call(this)};h["openfl.events.UncaughtErrorEvents"]=vc;vc.__name__=!0;vc.__super__=L;vc.prototype=v(L.prototype,{__class__:vc});var ba=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};h["openfl.geom.Matrix"]=ba;ba.__name__=!0;ba.prototype={clone:function(){return new ba(this.a,this.b,this.c,this.d,this.tx,this.ty)},
copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},deltaTransformPoint:function(a){return new ca(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},transformPoint:function(a){return new ca(a.x*
this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},__toMatrix3:function(){return new rc(this.a,this.b,this.c,this.d,this.tx,this.ty)},__class__:ba};var ca=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["openfl.geom.Point"]=ca;ca.__name__=!0;ca.prototype={clone:function(){return new ca(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},__class__:ca};
var Da=function(a,b,c,d,e,f,g,h){null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=g;this.alphaOffset=h};h["openfl.geom.ColorTransform"]=Da;Da.__name__=!0;Da.prototype={__clone:function(){return new Da(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,
this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__equals:function(a,b){null==b&&(b=!1);return null!=a&&this.redMultiplier==a.redMultiplier&&this.greenMultiplier==a.greenMultiplier&&this.blueMultiplier==
a.blueMultiplier&&(b||this.alphaMultiplier==a.alphaMultiplier)&&this.redOffset==a.redOffset&&this.greenOffset==a.greenOffset&&this.blueOffset==a.blueOffset&&this.alphaOffset==a.alphaOffset},__class__:Da};var M=function(){};h["openfl.Lib"]=M;M.__name__=!0;M.application=null;M.embed=Qb.openfl.embed=function(a,b,c,d,e){sc.embed(a,b,c,d,e)};M.getTimer=function(){return sc.getTimer()};var Kb=function(){this.length=0};h["openfl.VectorData"]=Kb;Kb.__name__=!0;Kb.prototype={__class__:Kb};var Za=function(a){this.renderSession=
a};h["openfl._internal.renderer.AbstractMaskManager"]=Za;Za.__name__=!0;Za.prototype={pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:Za};var lb=function(a,b){this.width=a;this.height=b};h["openfl._internal.renderer.AbstractRenderer"]=lb;lb.__name__=!0;lb.prototype={render:function(a){},resize:function(a,b){},__class__:lb};var Lb=function(){this.types=[];this.b=[];this.i=[];this.f=[];this.o=[];this.ff=
[];this.ii=[];this.ts=[]};h["openfl._internal.renderer.DrawCommandBuffer"]=Lb;Lb.__name__=!0;Lb.prototype={append:function(a){for(var b=new gb(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:e=b.readBeginBitmapFill();this.beginBitmapFill(T.get_bitmap(e),T.get_matrix(e),T.get_repeat(e),T.get_smooth(e));break;case 1:e=b.readBeginFill();this.beginFill(Aa.get_color(e),Aa.get_alpha(e));break;case 2:e=b.readBeginGradientFill();this.beginGradientFill(p.get_type(e),p.get_colors(e),p.get_alphas(e),
p.get_ratios(e),p.get_matrix(e),p.get_spreadMethod(e),p.get_interpolationMethod(e),p.get_focalPointRatio(e));break;case 3:e=b.readCubicCurveTo();this.cubicCurveTo(u.get_controlX1(e),u.get_controlY1(e),u.get_controlX2(e),u.get_controlY2(e),u.get_anchorX(e),u.get_anchorY(e));break;case 4:e=b.readCurveTo();this.curveTo(I.get_controlX(e),I.get_controlY(e),I.get_anchorX(e),I.get_anchorY(e));break;case 5:e=b.readDrawCircle();this.drawCircle(Q.get_x(e),Q.get_y(e),Q.get_radius(e));break;case 6:e=b.readDrawEllipse();
this.drawEllipse(N.get_x(e),N.get_y(e),N.get_width(e),N.get_height(e));break;case 7:e=b.readDrawPath();this.drawPath(Ra.get_commands(e),Ra.get_data(e),Ra.get_winding(e));break;case 8:e=b.readDrawRect();this.drawRect(A.get_x(e),A.get_y(e),A.get_width(e),A.get_height(e));break;case 9:e=b.readDrawRoundRect();this.drawRoundRect(y.get_x(e),y.get_y(e),y.get_width(e),y.get_height(e),y.get_ellipseWidth(e),y.get_ellipseHeight(e));break;case 10:e=b.readDrawTiles();this.drawTiles(z.get_sheet(e),z.get_tileData(e),
z.get_smooth(e),z.get_flags(e),z.get_shader(e),z.get_count(e));break;case 11:e=b.readDrawTriangles();this.drawTriangles(Fa.get_vertices(e),Fa.get_indices(e),Fa.get_uvtData(e),Fa.get_culling(e));break;case 12:b.readEndFill();this.endFill();break;case 13:e=b.readLineBitmapStyle();this.lineBitmapStyle(za.get_bitmap(e),za.get_matrix(e),za.get_repeat(e),za.get_smooth(e));break;case 14:e=b.readLineGradientStyle();this.lineGradientStyle(J.get_type(e),J.get_colors(e),J.get_alphas(e),J.get_ratios(e),J.get_matrix(e),
J.get_spreadMethod(e),J.get_interpolationMethod(e),J.get_focalPointRatio(e));break;case 15:e=b.readLineStyle();this.lineStyle(D.get_thickness(e),D.get_color(e),D.get_alpha(e),D.get_pixelHinting(e),D.get_scaleMode(e),D.get_caps(e),D.get_joints(e),D.get_miterLimit(e));break;case 16:e=b.readLineTo();this.lineTo(ha.get_x(e),ha.get_y(e));break;case 17:e=b.readMoveTo();this.moveTo(X.get_x(e),X.get_y(e));break;case 18:e=b.readOverrideMatrix(),this.overrideMatrix(Mb.get_matrix(e))}}b.destroy();return a},
beginBitmapFill:function(a,b,c,d){this.types.push(k.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.types.push(k.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,g,h){this.types.push(k.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},clear:function(){this.types.splice(0,this.types.length);this.b.splice(0,this.b.length);
this.i.splice(0,this.i.length);this.f.splice(0,this.f.length);this.o.splice(0,this.o.length);this.ff.splice(0,this.ff.length);this.ii.splice(0,this.ii.length);this.ts.splice(0,this.ts.length)},cubicCurveTo:function(a,b,c,d,e,f){this.types.push(k.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.types.push(k.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,b,c){this.types.push(k.DRAW_CIRCLE);
this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.types.push(k.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawPath:function(a,b,c){this.types.push(k.DRAW_PATH);this.o.push(a);this.o.push(b);this.o.push(c)},drawRect:function(a,b,c,d){this.types.push(k.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.types.push(k.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);
this.f.push(d);this.f.push(e);this.o.push(f)},drawTiles:function(a,b,c,d,e,f){this.types.push(k.DRAW_TILES);this.ts.push(a);this.ff.push(b);this.b.push(c);this.i.push(d);this.o.push(e);this.i.push(f)},drawTriangles:function(a,b,c,d){this.types.push(k.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},endFill:function(){this.types.push(k.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.types.push(k.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},
lineGradientStyle:function(a,b,c,d,e,f,g,h){this.types.push(k.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},lineStyle:function(a,b,c,d,e,f,g,h){this.types.push(k.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},lineTo:function(a,b){this.types.push(k.LINE_TO);this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.types.push(k.MOVE_TO);
this.f.push(a);this.f.push(b)},overrideMatrix:function(a){this.types.push(k.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},__class__:Lb,__properties__:{get_length:"get_length"}};var gb=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=k.UNKNOWN};h["openfl._internal.renderer.DrawCommandReader"]=gb;gb.__name__=!0;gb.prototype={advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;
case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=5;this.oPos+=1;break;case 10:this.tsPos+=1;this.ffPos+=1;this.bPos+=1;this.iPos+=2;this.oPos+=1;break;case 11:this.oPos+=4;break;case 13:this.oPos+=2;this.bPos+=2;break;case 14:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=
1;break;case 15:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 16:this.fPos+=2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},bool:function(a){return this.buffer.b[this.bPos+a]},destroy:function(){this.buffer=null;this.reset()},fArr:function(a){return this.buffer.ff[this.ffPos+a]},"float":function(a){return this.buffer.f[this.fPos+a]},iArr:function(a){return this.buffer.ii[this.iiPos+a]},"int":function(a){return this.buffer.i[this.iPos+a]},obj:function(a){return this.buffer.o[this.oPos+
a]},readBeginBitmapFill:function(){this.advance();this.prev=k.BEGIN_BITMAP_FILL;return T._new(this)},readBeginFill:function(){this.advance();this.prev=k.BEGIN_FILL;return Aa._new(this)},readBeginGradientFill:function(){this.advance();this.prev=k.BEGIN_GRADIENT_FILL;return p._new(this)},readCubicCurveTo:function(){this.advance();this.prev=k.CUBIC_CURVE_TO;return u._new(this)},readCurveTo:function(){this.advance();this.prev=k.CURVE_TO;return I._new(this)},readDrawCircle:function(){this.advance();this.prev=
k.DRAW_CIRCLE;return Q._new(this)},readDrawEllipse:function(){this.advance();this.prev=k.DRAW_ELLIPSE;return N._new(this)},readDrawPath:function(){this.advance();this.prev=k.DRAW_PATH;return Ra._new(this)},readDrawRect:function(){this.advance();this.prev=k.DRAW_RECT;return A._new(this)},readDrawRoundRect:function(){this.advance();this.prev=k.DRAW_ROUND_RECT;return y._new(this)},readDrawTiles:function(){this.advance();this.prev=k.DRAW_TILES;return z._new(this)},readDrawTriangles:function(){this.advance();
this.prev=k.DRAW_TRIANGLES;return Fa._new(this)},readEndFill:function(){this.advance();this.prev=k.END_FILL;return zd._new(this)},readLineBitmapStyle:function(){this.advance();this.prev=k.LINE_BITMAP_STYLE;return za._new(this)},readLineGradientStyle:function(){this.advance();this.prev=k.LINE_GRADIENT_STYLE;return J._new(this)},readLineStyle:function(){this.advance();this.prev=k.LINE_STYLE;return D._new(this)},readLineTo:function(){this.advance();this.prev=k.LINE_TO;return ha._new(this)},readMoveTo:function(){this.advance();
this.prev=k.MOVE_TO;return X._new(this)},readOverrideMatrix:function(){this.advance();this.prev=k.OVERRIDE_MATRIX;return Mb._new(this)},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(a){this.advance();this.prev=a},tileSheet:function(a){return this.buffer.ts[this.tsPos+a]},__class__:gb};var T={};h["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=T;T.__name__=!0;T.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",
get_matrix:"get_matrix",get_bitmap:"get_bitmap"};T._new=function(a){return a};T.get_bitmap=function(a){return a.obj(0)};T.get_matrix=function(a){return a.obj(1)};T.get_repeat=function(a){return a.bool(0)};T.get_smooth=function(a){return a.bool(1)};var Aa={};h["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=Aa;Aa.__name__=!0;Aa.__properties__={get_alpha:"get_alpha",get_color:"get_color"};Aa._new=function(a){return a};Aa.get_color=function(a){return a["int"](0)};Aa.get_alpha=function(a){return a["float"](0)};
var p={};h["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=p;p.__name__=!0;p.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};p._new=function(a){return a};p.get_type=function(a){return a.obj(0)};p.get_colors=function(a){return a.iArr(0)};p.get_alphas=function(a){return a.fArr(0)};
p.get_ratios=function(a){return a.iArr(1)};p.get_matrix=function(a){return a.obj(1)};p.get_spreadMethod=function(a){return a.obj(2)};p.get_interpolationMethod=function(a){return a.obj(3)};p.get_focalPointRatio=function(a){return a["float"](0)};var u={};h["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=u;u.__name__=!0;u.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",
get_controlX1:"get_controlX1"};u._new=function(a){return a};u.get_controlX1=function(a){return a["float"](0)};u.get_controlY1=function(a){return a["float"](1)};u.get_controlX2=function(a){return a["float"](2)};u.get_controlY2=function(a){return a["float"](3)};u.get_anchorX=function(a){return a["float"](4)};u.get_anchorY=function(a){return a["float"](5)};var I={};h["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=I;I.__name__=!0;I.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",
get_controlY:"get_controlY",get_controlX:"get_controlX"};I._new=function(a){return a};I.get_controlX=function(a){return a["float"](0)};I.get_controlY=function(a){return a["float"](1)};I.get_anchorX=function(a){return a["float"](2)};I.get_anchorY=function(a){return a["float"](3)};var Q={};h["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=Q;Q.__name__=!0;Q.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"};Q._new=function(a){return a};Q.get_x=function(a){return a["float"](0)};
Q.get_y=function(a){return a["float"](1)};Q.get_radius=function(a){return a["float"](2)};var N={};h["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=N;N.__name__=!0;N.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};N._new=function(a){return a};N.get_x=function(a){return a["float"](0)};N.get_y=function(a){return a["float"](1)};N.get_width=function(a){return a["float"](2)};N.get_height=function(a){return a["float"](3)};var Ra={};h["openfl._internal.renderer._DrawCommandReader.DrawPathView_Impl_"]=
Ra;Ra.__name__=!0;Ra.__properties__={get_winding:"get_winding",get_data:"get_data",get_commands:"get_commands"};Ra._new=function(a){return a};Ra.get_commands=function(a){return a.obj(0)};Ra.get_data=function(a){return a.obj(1)};Ra.get_winding=function(a){return a.obj(2)};var A={};h["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=A;A.__name__=!0;A.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};A._new=function(a){return a};A.get_x=function(a){return a["float"](0)};
A.get_y=function(a){return a["float"](1)};A.get_width=function(a){return a["float"](2)};A.get_height=function(a){return a["float"](3)};var y={};h["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=y;y.__name__=!0;y.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};y._new=function(a){return a};y.get_x=function(a){return a["float"](0)};y.get_y=function(a){return a["float"](1)};
y.get_width=function(a){return a["float"](2)};y.get_height=function(a){return a["float"](3)};y.get_ellipseWidth=function(a){return a["float"](4)};y.get_ellipseHeight=function(a){return a.obj(0)};var z={};h["openfl._internal.renderer._DrawCommandReader.DrawTilesView_Impl_"]=z;z.__name__=!0;z.__properties__={get_count:"get_count",get_shader:"get_shader",get_flags:"get_flags",get_smooth:"get_smooth",get_tileData:"get_tileData",get_sheet:"get_sheet"};z._new=function(a){return a};z.get_sheet=function(a){return a.tileSheet(0)};
z.get_tileData=function(a){return a.fArr(0)};z.get_smooth=function(a){return a.bool(0)};z.get_flags=function(a){return a["int"](0)};z.get_shader=function(a){return a.obj(0)};z.get_count=function(a){return a["int"](1)};var Fa={};h["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=Fa;Fa.__name__=!0;Fa.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"};Fa._new=function(a){return a};Fa.get_vertices=function(a){return a.obj(0)};
Fa.get_indices=function(a){return a.obj(1)};Fa.get_uvtData=function(a){return a.obj(2)};Fa.get_culling=function(a){return a.obj(3)};var zd={};h["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=zd;zd.__name__=!0;zd._new=function(a){return a};var za={};h["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=za;za.__name__=!0;za.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};za._new=function(a){return a};
za.get_bitmap=function(a){return a.obj(0)};za.get_matrix=function(a){return a.obj(1)};za.get_repeat=function(a){return a.bool(0)};za.get_smooth=function(a){return a.bool(1)};var J={};h["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=J;J.__name__=!0;J.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",
get_type:"get_type"};J._new=function(a){return a};J.get_type=function(a){return a.obj(0)};J.get_colors=function(a){return a.iArr(0)};J.get_alphas=function(a){return a.fArr(0)};J.get_ratios=function(a){return a.iArr(1)};J.get_matrix=function(a){return a.obj(1)};J.get_spreadMethod=function(a){return a.obj(2)};J.get_interpolationMethod=function(a){return a.obj(3)};J.get_focalPointRatio=function(a){return a["float"](0)};var D={};h["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=D;
D.__name__=!0;D.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"};D._new=function(a){return a};D.get_thickness=function(a){return a.obj(0)};D.get_color=function(a){return a["int"](0)};D.get_alpha=function(a){return a["float"](0)};D.get_pixelHinting=function(a){return a.bool(0)};D.get_scaleMode=function(a){return a.obj(1)};
D.get_caps=function(a){return a.obj(2)};D.get_joints=function(a){return a.obj(3)};D.get_miterLimit=function(a){return a["float"](1)};var ha={};h["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=ha;ha.__name__=!0;ha.__properties__={get_y:"get_y",get_x:"get_x"};ha._new=function(a){return a};ha.get_x=function(a){return a["float"](0)};ha.get_y=function(a){return a["float"](1)};var X={};h["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=X;X.__name__=!0;X.__properties__=
{get_y:"get_y",get_x:"get_x"};X._new=function(a){return a};X.get_x=function(a){return a["float"](0)};X.get_y=function(a){return a["float"](1)};var Mb={};h["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=Mb;Mb.__name__=!0;Mb.__properties__={get_matrix:"get_matrix"};Mb._new=function(a){return a};Mb.get_matrix=function(a){return a.obj(0)};var k=h["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_PATH DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};
k.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];k.BEGIN_BITMAP_FILL.toString=q;k.BEGIN_BITMAP_FILL.__enum__=k;k.BEGIN_FILL=["BEGIN_FILL",1];k.BEGIN_FILL.toString=q;k.BEGIN_FILL.__enum__=k;k.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];k.BEGIN_GRADIENT_FILL.toString=q;k.BEGIN_GRADIENT_FILL.__enum__=k;k.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];k.CUBIC_CURVE_TO.toString=q;k.CUBIC_CURVE_TO.__enum__=k;k.CURVE_TO=["CURVE_TO",4];k.CURVE_TO.toString=q;k.CURVE_TO.__enum__=k;k.DRAW_CIRCLE=["DRAW_CIRCLE",5];k.DRAW_CIRCLE.toString=
q;k.DRAW_CIRCLE.__enum__=k;k.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];k.DRAW_ELLIPSE.toString=q;k.DRAW_ELLIPSE.__enum__=k;k.DRAW_PATH=["DRAW_PATH",7];k.DRAW_PATH.toString=q;k.DRAW_PATH.__enum__=k;k.DRAW_RECT=["DRAW_RECT",8];k.DRAW_RECT.toString=q;k.DRAW_RECT.__enum__=k;k.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",9];k.DRAW_ROUND_RECT.toString=q;k.DRAW_ROUND_RECT.__enum__=k;k.DRAW_TILES=["DRAW_TILES",10];k.DRAW_TILES.toString=q;k.DRAW_TILES.__enum__=k;k.DRAW_TRIANGLES=["DRAW_TRIANGLES",11];k.DRAW_TRIANGLES.toString=
q;k.DRAW_TRIANGLES.__enum__=k;k.END_FILL=["END_FILL",12];k.END_FILL.toString=q;k.END_FILL.__enum__=k;k.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13];k.LINE_BITMAP_STYLE.toString=q;k.LINE_BITMAP_STYLE.__enum__=k;k.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14];k.LINE_GRADIENT_STYLE.toString=q;k.LINE_GRADIENT_STYLE.__enum__=k;k.LINE_STYLE=["LINE_STYLE",15];k.LINE_STYLE.toString=q;k.LINE_STYLE.__enum__=k;k.LINE_TO=["LINE_TO",16];k.LINE_TO.toString=q;k.LINE_TO.__enum__=k;k.MOVE_TO=["MOVE_TO",17];k.MOVE_TO.toString=
q;k.MOVE_TO.__enum__=k;k.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18];k.OVERRIDE_MATRIX.toString=q;k.OVERRIDE_MATRIX.__enum__=k;k.UNKNOWN=["UNKNOWN",19];k.UNKNOWN.toString=q;k.UNKNOWN.__enum__=k;var dd=function(){};h["openfl._internal.renderer.RenderSession"]=dd;dd.__name__=!0;dd.prototype={__class__:dd};var K=function(){};h["openfl._internal.renderer.cairo.CairoGraphics"]=K;K.__name__=!0;K.cairo=null;K.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=
b+d;var g=-e+e*K.SIN45,h=-e+e*K.TAN22,k=-f+f*K.SIN45,m=-f+f*K.TAN22;K.cairo.moveTo(c,d-f);K.quadraticCurveTo(c,d+m,c+g,d+k);K.quadraticCurveTo(c+h,d,c-e,d);K.cairo.lineTo(a+e,d);K.quadraticCurveTo(a-h,d,a-g,d+k);K.quadraticCurveTo(a,d+m,a,d-f);K.cairo.lineTo(a,b+f);K.quadraticCurveTo(a,b-m,a-g,b-k);K.quadraticCurveTo(a-h,b,a+e,b);K.cairo.lineTo(c-e,b);K.quadraticCurveTo(c+h,b,c+g,b-k);K.quadraticCurveTo(c,b-m,c,b+f);K.cairo.lineTo(c,d-f)};K.quadraticCurveTo=function(a,b,c,d){var e=null;K.cairo.get_hasCurrentPoint()?
e=K.cairo.get_currentPoint():(K.cairo.moveTo(a,b),e=new ad(a,b));K.cairo.curveTo(e.x+.6666666666666666*(a-e.x),e.y+.6666666666666666*(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};K.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,d=new gb(a.__commands),e=0,f=a.__commands.types;e<f.length;){var g=f[e];++e;switch(g[1]){case 3:g=d.readCubicCurveTo();c.curveTo(u.get_controlX1(g),u.get_controlY1(g),u.get_controlX2(g),u.get_controlY2(g),u.get_anchorX(g),u.get_anchorY(g));
u.get_anchorX(g);u.get_anchorX(g);break;case 4:g=d.readCurveTo();K.quadraticCurveTo(I.get_controlX(g),I.get_controlY(g),I.get_anchorX(g),I.get_anchorY(g));I.get_anchorX(g);I.get_anchorY(g);break;case 5:g=d.readDrawCircle();c.arc(Q.get_x(g),Q.get_y(g),Q.get_radius(g),0,2*Math.PI);break;case 6:var h=d.readDrawEllipse(),g=N.get_x(h),k=N.get_y(h),m=N.get_width(h),l=N.get_height(h),g=g-0,k=k-0,h=m/2*.5522848,p=l/2*.5522848,n=g+m,q=k+l,m=g+m/2,l=k+l/2;c.moveTo(g,l);c.curveTo(g,l-p,m-h,k,m,k);c.curveTo(m+
h,k,n,l-p,n,l);c.curveTo(n,l+p,m+h,q,m,q);c.curveTo(m-h,q,g,l+p,g,l);break;case 8:g=d.readDrawRect();c.rectangle(A.get_x(g),A.get_y(g),A.get_width(g),A.get_height(g));break;case 9:g=d.readDrawRoundRect();K.drawRoundRect(y.get_x(g),y.get_y(g),y.get_width(g),y.get_height(g),y.get_ellipseWidth(g),y.get_ellipseHeight(g));break;case 16:g=d.readLineTo();c.lineTo(ha.get_x(g),ha.get_y(g));ha.get_x(g);ha.get_y(g);break;case 17:g=d.readMoveTo();c.moveTo(X.get_x(g),X.get_y(g));X.get_x(g);X.get_y(g);break;default:d.skip(g)}}d.destroy()}};
var ed=function(a){this.renderSession=a};h["openfl._internal.renderer.cairo.CairoMaskManager"]=ed;ed.__name__=!0;ed.__super__=Za;ed.prototype=v(Za.prototype,{pushMask:function(a){var b=this.renderSession.cairo;b.save();var c=a.__getWorldTransform();b.set_matrix(c.__toMatrix3());b.newPath();a.__renderCairoMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.cairo;c.save();c.set_matrix(new rc(b.a,b.c,b.b,b.d,b.tx,b.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);
c.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.cairo.restore()},__class__:ed});var wc=function(){};h["openfl._internal.renderer.cairo.CairoRenderer"]=wc;wc.__name__=!0;wc.__super__=lb;wc.prototype=v(lb.prototype,{render:function(a){this.cairo.identityMatrix();a.__clearBeforeRender&&(this.cairo.setSourceRGB(a.__colorSplit[0],a.__colorSplit[1],a.__colorSplit[2]),this.cairo.paint());a.__renderCairo(this.renderSession)},__class__:wc});var pd=function(){};
h["openfl._internal.renderer.cairo.CairoShape"]=pd;pd.__name__=!0;pd.render=function(a,b){};var g=function(){};h["openfl._internal.renderer.canvas.CanvasGraphics"]=g;g.__name__=!0;g.bitmapFill=null;g.bitmapRepeat=null;g.bounds=null;g.graphics=null;g.hasFill=null;g.hasStroke=null;g.hitTesting=null;g.inversePendingMatrix=null;g.pendingMatrix=null;g.context=null;g.closePath=function(){null!=g.context.strokeStyle&&(g.context.closePath(),g.context.stroke(),g.context.beginPath())};g.createBitmapFill=function(a,
b){a.__sync();return g.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};g.createGradientPattern=function(a,b,c,d,e,f,h,k){f=null;switch(a){case 1:null==e&&(e=new ba);f=e.transformPoint(new ca(1638.4,0));f=g.context.createRadialGradient(e.tx,e.ty,0,e.tx,e.ty,(f.x-e.tx)/2);break;case 0:e=null!=e?e:new ba,f=e.transformPoint(new ca(-819.2,0)),e=e.transformPoint(new ca(819.2,0)),f=g.context.createLinearGradient(f.x,f.y,e.x,e.y)}e=0;for(a=b.length;e<a;){var l=e++,m=b[l];h=c[l];k=(m&16711680)>>>
16;var p=(m&65280)>>>8,m=m&255,l=d[l]/255;0>l&&(l=0);1<l&&(l=1);f.addColorStop(l,"rgba("+k+", "+p+", "+m+", "+h+")")}return f};g.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),f=e.getContext("2d");e.width=c;e.height=d;f.fillStyle=f.createPattern(a.image.get_src(),b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();g.hitTesting||f.fill();return e};g.drawRoundRect=function(a,b,c,d,e,f){null==
f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var h=-e+e*g.SIN45,k=-e+e*g.TAN22,l=-f+f*g.SIN45,m=-f+f*g.TAN22;g.context.moveTo(c,d-f);g.context.quadraticCurveTo(c,d+m,c+h,d+l);g.context.quadraticCurveTo(c+k,d,c-e,d);g.context.lineTo(a+e,d);g.context.quadraticCurveTo(a-k,d,a-h,d+l);g.context.quadraticCurveTo(a,d+m,a,d-f);g.context.lineTo(a,b+f);g.context.quadraticCurveTo(a,b-m,a-h,b-l);g.context.quadraticCurveTo(a-k,b,a+e,b);g.context.lineTo(c-e,b);g.context.quadraticCurveTo(c+k,b,
c+h,b-l);g.context.quadraticCurveTo(c,b-m,c,b+f);g.context.lineTo(c,d-f)};g.endFill=function(){g.context.beginPath();g.playCommands(g.fillCommands,!1);g.fillCommands.clear()};g.endStroke=function(){g.context.beginPath();g.playCommands(g.strokeCommands,!0);g.context.closePath();g.strokeCommands.clear()};g.hitTest=function(a,b,c){if(!(0==a.__commands.get_length()||null==g.bounds||0>=g.bounds.width||0>=g.bounds.height)){g.hitTesting=!0;b-=g.bounds.x;c-=g.bounds.y;null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),
a.__context=a.__canvas.getContext("2d"));g.context=a.__context;g.fillCommands.clear();g.strokeCommands.clear();g.hasFill=!1;g.hasStroke=!1;g.bitmapFill=null;g.bitmapRepeat=!1;g.context.beginPath();var d=new gb(a.__commands),e=0;for(a=a.__commands.types;e<a.length;){var f=a[e];++e;switch(f[1]){case 3:f=d.readCubicCurveTo();g.fillCommands.cubicCurveTo(u.get_controlX1(f),u.get_controlY1(f),u.get_controlX2(f),u.get_controlY2(f),u.get_anchorX(f),u.get_anchorY(f));g.strokeCommands.cubicCurveTo(u.get_controlX1(f),
u.get_controlY1(f),u.get_controlX2(f),u.get_controlY2(f),u.get_anchorX(f),u.get_anchorY(f));break;case 4:f=d.readCurveTo();g.fillCommands.curveTo(I.get_controlX(f),I.get_controlY(f),I.get_anchorX(f),I.get_anchorY(f));g.strokeCommands.curveTo(I.get_controlX(f),I.get_controlY(f),I.get_anchorX(f),I.get_anchorY(f));break;case 16:f=d.readLineTo();g.fillCommands.lineTo(ha.get_x(f),ha.get_y(f));g.strokeCommands.lineTo(ha.get_x(f),ha.get_y(f));break;case 17:f=d.readMoveTo();g.fillCommands.moveTo(X.get_x(f),
X.get_y(f));g.strokeCommands.moveTo(X.get_x(f),X.get_y(f));break;case 14:f=d.readLineGradientStyle();g.strokeCommands.lineGradientStyle(J.get_type(f),J.get_colors(f),J.get_alphas(f),J.get_ratios(f),J.get_matrix(f),J.get_spreadMethod(f),J.get_interpolationMethod(f),J.get_focalPointRatio(f));break;case 13:f=d.readLineBitmapStyle();g.strokeCommands.lineBitmapStyle(za.get_bitmap(f),za.get_matrix(f),za.get_repeat(f),za.get_smooth(f));break;case 15:f=d.readLineStyle();g.strokeCommands.lineStyle(D.get_thickness(f),
D.get_color(f),1,D.get_pixelHinting(f),D.get_scaleMode(f),D.get_caps(f),D.get_joints(f),D.get_miterLimit(f));break;case 12:d.readEndFill();g.endFill();g.endStroke();if(g.hasFill&&g.context.isPointInPath(b,c)||g.hasStroke&&g.context.isPointInStroke(b,c))return d.destroy(),!0;g.hasFill=!1;g.bitmapFill=null;break;case 0:case 1:case 2:g.endFill();g.endStroke();if(g.hasFill&&g.context.isPointInPath(b,c)||g.hasStroke&&g.context.isPointInStroke(b,c))return d.destroy(),!0;f==k.BEGIN_BITMAP_FILL?(f=d.readBeginBitmapFill(),
g.fillCommands.beginBitmapFill(T.get_bitmap(f),T.get_matrix(f),T.get_repeat(f),T.get_smooth(f)),g.strokeCommands.beginBitmapFill(T.get_bitmap(f),T.get_matrix(f),T.get_repeat(f),T.get_smooth(f))):f==k.BEGIN_GRADIENT_FILL?(f=d.readBeginGradientFill(),g.fillCommands.beginGradientFill(p.get_type(f),p.get_colors(f),p.get_alphas(f),p.get_ratios(f),p.get_matrix(f),p.get_spreadMethod(f),p.get_interpolationMethod(f),p.get_focalPointRatio(f)),g.strokeCommands.beginGradientFill(p.get_type(f),p.get_colors(f),
p.get_alphas(f),p.get_ratios(f),p.get_matrix(f),p.get_spreadMethod(f),p.get_interpolationMethod(f),p.get_focalPointRatio(f))):(f=d.readBeginFill(),g.fillCommands.beginFill(Aa.get_color(f),1),g.strokeCommands.beginFill(Aa.get_color(f),1));break;case 5:f=d.readDrawCircle();g.fillCommands.drawCircle(Q.get_x(f),Q.get_y(f),Q.get_radius(f));g.strokeCommands.drawCircle(Q.get_x(f),Q.get_y(f),Q.get_radius(f));break;case 6:f=d.readDrawEllipse();g.fillCommands.drawEllipse(N.get_x(f),N.get_y(f),N.get_width(f),
N.get_height(f));g.strokeCommands.drawEllipse(N.get_x(f),N.get_y(f),N.get_width(f),N.get_height(f));break;case 8:f=d.readDrawRect();g.fillCommands.drawRect(A.get_x(f),A.get_y(f),A.get_width(f),A.get_height(f));g.strokeCommands.drawRect(A.get_x(f),A.get_y(f),A.get_width(f),A.get_height(f));break;case 9:f=d.readDrawRoundRect();g.fillCommands.drawRoundRect(y.get_x(f),y.get_y(f),y.get_width(f),y.get_height(f),y.get_ellipseWidth(f),y.get_ellipseHeight(f));g.strokeCommands.drawRoundRect(y.get_x(f),y.get_y(f),
y.get_width(f),y.get_height(f),y.get_ellipseWidth(f),y.get_ellipseHeight(f));break;default:d.skip(f)}}0<g.fillCommands.get_length()&&g.endFill();0<g.strokeCommands.get_length()&&g.endStroke();d.destroy();if(g.hasFill&&g.context.isPointInPath(b,c)||g.hasStroke&&g.context.isPointInStroke(b,c))return!0}return!1};g.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.length,f=1,g=e+1;f<g;)d=f++,b&&0==d%3||(d=a.data[d-1],c<d&&(c=d));f=new Kb;f.data=[];f.length=0;f.fixed=!1;g=
1;for(e+=1;g<e;)if(d=g++,!b||0!=d%3){if(!f.fixed){f.length++;if(f.data.length<f.length){var h=Array(f.data.length+10);Cb.blit(f.data,0,h,0,f.data.length);f.data=h}f.data[f.length-1]=a.data[d-1]/c}f.length}return{max:c,uvt:f}};g.playCommands=function(a,b){null==b&&(b=!1);g.bounds=g.graphics.__bounds;for(var c=g.bounds.x,d=g.bounds.y,e=0,f=0,h=!1,k=0,l=0,m=new gb(a),q=0,v=a.types;q<v.length;){var n=v[q];++q;switch(n[1]){case 3:n=m.readCubicCurveTo();g.context.bezierCurveTo(u.get_controlX1(n)-c,u.get_controlY1(n)-
d,u.get_controlX2(n)-c,u.get_controlY2(n)-d,u.get_anchorX(n)-c,u.get_anchorY(n)-d);break;case 4:n=m.readCurveTo();g.context.quadraticCurveTo(I.get_controlX(n)-c,I.get_controlY(n)-d,I.get_anchorX(n)-c,I.get_anchorY(n)-d);break;case 5:n=m.readDrawCircle();g.context.moveTo(Q.get_x(n)-c+Q.get_radius(n),Q.get_y(n)-d);g.context.arc(Q.get_x(n)-c,Q.get_y(n)-d,Q.get_radius(n),0,2*Math.PI,!0);break;case 6:var r=m.readDrawEllipse(),n=N.get_x(r),w=N.get_y(r),t=N.get_width(r),z=N.get_height(r),n=n-c,w=w-d,r=t/
2*.5522848,x=z/2*.5522848,B=n+t,C=w+z,t=n+t/2,z=w+z/2;g.context.moveTo(n,z);g.context.bezierCurveTo(n,z-x,t-r,w,t,w);g.context.bezierCurveTo(t+r,w,B,z-x,B,z);g.context.bezierCurveTo(B,z+x,t+r,C,t,C);g.context.bezierCurveTo(t-r,C,n,z+x,n,z);break;case 9:n=m.readDrawRoundRect();g.drawRoundRect(y.get_x(n)-c,y.get_y(n)-d,y.get_width(n),y.get_height(n),y.get_ellipseWidth(n),y.get_ellipseHeight(n));break;case 16:f=m.readLineTo();g.context.lineTo(ha.get_x(f)-c,ha.get_y(f)-d);e=ha.get_x(f);f=ha.get_y(f);
break;case 17:l=m.readMoveTo();g.context.moveTo(X.get_x(l)-c,X.get_y(l)-d);e=X.get_x(l);f=X.get_y(l);h=!0;k=X.get_x(l);l=X.get_y(l);break;case 15:n=m.readLineStyle();b&&g.hasStroke&&(g.context.closePath(),g.hitTesting||g.context.stroke(),g.context.beginPath());g.context.moveTo(e-c,f-d);if(null==D.get_thickness(n))g.hasStroke=!1;else{g.context.lineWidth=0<D.get_thickness(n)?D.get_thickness(n):1;g.context.lineJoin=null==D.get_joints(n)?"round":Ad.toString(D.get_joints(n)).toLowerCase();if(null==D.get_caps(n))w=
"round";else switch(D.get_caps(n)){case 0:w="butt";break;default:w=Bd.toString(D.get_caps(n)).toLowerCase()}g.context.lineCap=w;g.context.miterLimit=D.get_miterLimit(n);1==D.get_alpha(n)?g.context.strokeStyle="#"+La.hex(D.get_color(n)&16777215,6):(w=(D.get_color(n)&16711680)>>>16,r=(D.get_color(n)&65280)>>>8,x=D.get_color(n)&255,g.context.strokeStyle="rgba("+w+", "+r+", "+x+", "+D.get_alpha(n)+")");g.hasStroke=!0}break;case 14:n=m.readLineGradientStyle();b&&g.hasStroke&&g.closePath();g.context.moveTo(e-
c,f-d);g.context.strokeStyle=g.createGradientPattern(J.get_type(n),J.get_colors(n),J.get_alphas(n),J.get_ratios(n),J.get_matrix(n),J.get_spreadMethod(n),J.get_interpolationMethod(n),J.get_focalPointRatio(n));g.hasStroke=!0;break;case 13:n=m.readLineBitmapStyle();b&&g.hasStroke&&g.closePath();g.context.moveTo(e-c,f-d);g.context.strokeStyle=g.createBitmapFill(za.get_bitmap(n),za.get_repeat(n));g.hasStroke=!0;break;case 0:n=m.readBeginBitmapFill();g.context.fillStyle=g.createBitmapFill(T.get_bitmap(n),
!0);g.hasFill=!0;null!=T.get_matrix(n)?(g.pendingMatrix=T.get_matrix(n),g.inversePendingMatrix=T.get_matrix(n).clone(),g.inversePendingMatrix.invert()):(g.pendingMatrix=null,g.inversePendingMatrix=null);break;case 1:n=m.readBeginFill();.005>Aa.get_alpha(n)?g.hasFill=!1:(1==Aa.get_alpha(n)?g.context.fillStyle="#"+La.hex(Aa.get_color(n),6):(w=(Aa.get_color(n)&16711680)>>>16,r=(Aa.get_color(n)&65280)>>>8,x=Aa.get_color(n)&255,g.context.fillStyle="rgba("+w+", "+r+", "+x+", "+Aa.get_alpha(n)+")"),g.bitmapFill=
null,g.hasFill=!0);break;case 2:n=m.readBeginGradientFill();g.context.fillStyle=g.createGradientPattern(p.get_type(n),p.get_colors(n),p.get_alphas(n),p.get_ratios(n),p.get_matrix(n),p.get_spreadMethod(n),p.get_interpolationMethod(n),p.get_focalPointRatio(n));g.bitmapFill=null;g.hasFill=!0;break;case 8:n=m.readDrawRect();w=!1;null!=g.bitmapFill&&(C=B=t=r=0,x=!0,null!=g.pendingMatrix?0!=g.pendingMatrix.b||0!=g.pendingMatrix.c?x=!1:(B=g.inversePendingMatrix.transformPoint(new ca(A.get_x(n),A.get_y(n))),
t=g.inversePendingMatrix.transformPoint(new ca(A.get_x(n)+A.get_width(n),A.get_y(n)+A.get_height(n))),r=B.y,C=B.x,B=t.y,t=t.x):(r=A.get_y(n),C=A.get_x(n),B=A.get_y(n)+A.get_height(n),t=A.get_x(n)+A.get_width(n)),x&&0<=r&&0<=C&&t<=g.bitmapFill.width&&B<=g.bitmapFill.height&&(w=!0,g.hitTesting||g.context.drawImage(g.bitmapFill.image.get_src(),C,r,t-C,B-r,A.get_x(n)-c,A.get_y(n)-d,A.get_width(n),A.get_height(n))));w||g.context.rect(A.get_x(n)-c,A.get_y(n)-d,A.get_width(n),A.get_height(n));break;default:m.skip(n)}}m.destroy();
b&&g.hasStroke&&(g.hasFill&&h?g.context.lineTo(k-c,l-d):h&&e==k&&f==l&&g.context.closePath(),g.hitTesting||g.context.stroke());b||!g.hasFill&&null==g.bitmapFill||(g.context.translate(-g.bounds.x,-g.bounds.y),null!=g.pendingMatrix?(g.context.transform(g.pendingMatrix.a,g.pendingMatrix.b,g.pendingMatrix.c,g.pendingMatrix.d,g.pendingMatrix.tx,g.pendingMatrix.ty),g.hitTesting||g.context.fill(),g.context.transform(g.inversePendingMatrix.a,g.inversePendingMatrix.b,g.inversePendingMatrix.c,g.inversePendingMatrix.d,
g.inversePendingMatrix.tx,g.inversePendingMatrix.ty)):g.hitTesting||g.context.fill(),g.context.translate(g.bounds.x,g.bounds.y),g.context.closePath())};g.render=function(a,b){if(a.__dirty){g.hitTesting=!1;g.graphics=a;g.bounds=a.__bounds;if(!a.__visible||0==a.__commands.get_length()||null==g.bounds||0>=g.bounds.width||0>=g.bounds.height)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));
g.context=a.__context;a.__canvas.width=Math.ceil(g.bounds.width);a.__canvas.height=Math.ceil(g.bounds.height);g.fillCommands.clear();g.strokeCommands.clear();g.hasFill=!1;g.hasStroke=!1;g.bitmapFill=null;g.bitmapRepeat=!1;var c=new gb(a.__commands),d=0,e=a.__commands.types;try{for(;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:var h=c.readCubicCurveTo();g.fillCommands.cubicCurveTo(u.get_controlX1(h),u.get_controlY1(h),u.get_controlX2(h),u.get_controlY2(h),u.get_anchorX(h),u.get_anchorY(h));g.strokeCommands.cubicCurveTo(u.get_controlX1(h),
u.get_controlY1(h),u.get_controlX2(h),u.get_controlY2(h),u.get_anchorX(h),u.get_anchorY(h));break;case 4:var l=c.readCurveTo();g.fillCommands.curveTo(I.get_controlX(l),I.get_controlY(l),I.get_anchorX(l),I.get_anchorY(l));g.strokeCommands.curveTo(I.get_controlX(l),I.get_controlY(l),I.get_anchorX(l),I.get_anchorY(l));break;case 16:var q=c.readLineTo();g.fillCommands.lineTo(ha.get_x(q),ha.get_y(q));g.strokeCommands.lineTo(ha.get_x(q),ha.get_y(q));break;case 17:var m=c.readMoveTo();g.fillCommands.moveTo(X.get_x(m),
X.get_y(m));g.strokeCommands.moveTo(X.get_x(m),X.get_y(m));break;case 12:c.readEndFill();g.endFill();g.endStroke();g.hasFill=!1;g.bitmapFill=null;break;case 15:var r=c.readLineStyle();g.strokeCommands.lineStyle(D.get_thickness(r),D.get_color(r),D.get_alpha(r),D.get_pixelHinting(r),D.get_scaleMode(r),D.get_caps(r),D.get_joints(r),D.get_miterLimit(r));break;case 14:var t=c.readLineGradientStyle();g.strokeCommands.lineGradientStyle(J.get_type(t),J.get_colors(t),J.get_alphas(t),J.get_ratios(t),J.get_matrix(t),
J.get_spreadMethod(t),J.get_interpolationMethod(t),J.get_focalPointRatio(t));break;case 13:var n=c.readLineBitmapStyle();g.strokeCommands.lineBitmapStyle(za.get_bitmap(n),za.get_matrix(n),za.get_repeat(n),za.get_smooth(n));break;case 0:case 1:case 2:g.endFill();g.endStroke();if(f==k.BEGIN_BITMAP_FILL){var v=c.readBeginBitmapFill();g.fillCommands.beginBitmapFill(T.get_bitmap(v),T.get_matrix(v),T.get_repeat(v),T.get_smooth(v));g.strokeCommands.beginBitmapFill(T.get_bitmap(v),T.get_matrix(v),T.get_repeat(v),
T.get_smooth(v))}else if(f==k.BEGIN_GRADIENT_FILL){var w=c.readBeginGradientFill();g.fillCommands.beginGradientFill(p.get_type(w),p.get_colors(w),p.get_alphas(w),p.get_ratios(w),p.get_matrix(w),p.get_spreadMethod(w),p.get_interpolationMethod(w),p.get_focalPointRatio(w));g.strokeCommands.beginGradientFill(p.get_type(w),p.get_colors(w),p.get_alphas(w),p.get_ratios(w),p.get_matrix(w),p.get_spreadMethod(w),p.get_interpolationMethod(w),p.get_focalPointRatio(w))}else{var x=c.readBeginFill();g.fillCommands.beginFill(Aa.get_color(x),
Aa.get_alpha(x));g.strokeCommands.beginFill(Aa.get_color(x),Aa.get_alpha(x))}break;case 5:var B=c.readDrawCircle();g.fillCommands.drawCircle(Q.get_x(B),Q.get_y(B),Q.get_radius(B));g.strokeCommands.drawCircle(Q.get_x(B),Q.get_y(B),Q.get_radius(B));break;case 6:var C=c.readDrawEllipse();g.fillCommands.drawEllipse(N.get_x(C),N.get_y(C),N.get_width(C),N.get_height(C));g.strokeCommands.drawEllipse(N.get_x(C),N.get_y(C),N.get_width(C),N.get_height(C));break;case 8:var F=c.readDrawRect();g.fillCommands.drawRect(A.get_x(F),
A.get_y(F),A.get_width(F),A.get_height(F));g.strokeCommands.drawRect(A.get_x(F),A.get_y(F),A.get_width(F),A.get_height(F));break;case 9:var E=c.readDrawRoundRect();g.fillCommands.drawRoundRect(y.get_x(E),y.get_y(E),y.get_width(E),y.get_height(E),y.get_ellipseWidth(E),y.get_ellipseHeight(E));g.strokeCommands.drawRoundRect(y.get_x(E),y.get_y(E),y.get_width(E),y.get_height(E),y.get_ellipseWidth(E),y.get_ellipseHeight(E));break;case 11:g.endFill();g.endStroke();var M=c.readDrawTriangles(),G=Fa.get_vertices(M),
L=Fa.get_indices(M),S=Fa.get_uvtData(M),K=null,P=null==g.bitmapFill;if(P&&null!=S)throw"__break__";if(!P){if(null==S){var O;O=new Kb;O.data=[];O.length=0;O.fixed=!1;for(var S=O,H=0,Y=G.length/2|0;H<Y;){var Z=H++;if(!S.fixed){S.length++;if(S.data.length<S.length){var da=Array(S.data.length+10);Cb.blit(S.data,0,da,0,S.data.length);S.data=da}S.data[S.length-1]=G.data[2*Z]/g.bitmapFill.width}S.length;if(!S.fixed){S.length++;if(S.data.length<S.length){var ea=Array(S.data.length+10);Cb.blit(S.data,0,ea,
0,S.data.length);S.data=ea}S.data[S.length-1]=G.data[2*Z+1]/g.bitmapFill.height}S.length}}var ja=g.normalizeUVT(S,S.length!=G.length),na=ja.max,S=ja.uvt,K=1<na?g.createTempPatternCanvas(g.bitmapFill,g.bitmapRepeat,g.bounds.width|0,g.bounds.height|0):g.createTempPatternCanvas(g.bitmapFill,g.bitmapRepeat,g.bitmapFill.width,g.bitmapFill.height)}for(var H=0,pa=L.length,ka,ma,qa,ra,ta,ua,va,wa,xa,aa,ca,U,V,W,ba,oa,sa,fa,ga,ia,la,ya,Ga,Ja,La,Ma,Oa,Pa;H<pa;){ka=H;ma=H+1;qa=H+2;ra=2*L.data[ka];ta=2*L.data[ka]+
1;ua=2*L.data[ma];va=2*L.data[ma]+1;wa=2*L.data[qa];xa=2*L.data[qa]+1;aa=G.data[ra];ca=G.data[ta];U=G.data[ua];V=G.data[va];W=G.data[wa];ba=G.data[xa];switch(Fa.get_culling(M)){case 2:if(!(0>(U-aa)*(ba-ca)-(V-ca)*(W-aa))){H+=3;continue}break;case 0:if(0>(U-aa)*(ba-ca)-(V-ca)*(W-aa)){H+=3;continue}}P?(g.context.beginPath(),g.context.moveTo(aa,ca),g.context.lineTo(U,V),g.context.lineTo(W,ba),g.context.closePath(),g.hitTesting||g.context.fill()):(g.context.save(),g.context.beginPath(),g.context.moveTo(aa,
ca),g.context.lineTo(U,V),g.context.lineTo(W,ba),g.context.closePath(),g.context.clip(),oa=S.data[ra]*K.width,fa=S.data[ua]*K.width,ia=S.data[wa]*K.width,sa=S.data[ta]*K.height,ga=S.data[va]*K.height,la=S.data[xa]*K.height,ya=oa*(la-ga)-fa*la+ia*ga+(fa-ia)*sa,0!=ya&&(Ga=-(sa*(W-U)-ga*W+la*U+(ga-la)*aa)/ya,Ja=(ga*ba+sa*(V-ba)-la*V+(la-ga)*ca)/ya,La=(oa*(W-U)-fa*W+ia*U+(fa-ia)*aa)/ya,Ma=-(fa*ba+oa*(V-ba)-ia*V+(ia-fa)*ca)/ya,Oa=(oa*(la*U-ga*W)+sa*(fa*W-ia*U)+(ia*ga-fa*la)*aa)/ya,Pa=(oa*(la*V-ga*ba)+
sa*(fa*ba-ia*V)+(ia*ga-fa*la)*ca)/ya,g.context.transform(Ga,Ja,La,Ma,Oa,Pa),g.context.drawImage(K,0,0),g.context.restore()));H+=3}break;case 10:var R=c.readDrawTiles(),Ha=0<(z.get_flags(R)&1),Ta=g.bounds.x,Va=g.bounds.y,Ka=0<(z.get_flags(R)&2),Ra=0<(z.get_flags(R)&16),bb=0<(z.get_flags(R)&4),Wa=0<(z.get_flags(R)&8),Qa=0<(z.get_flags(R)&32),Xa=0<(z.get_flags(R)&64),Ya=0<(z.get_flags(R)&65536);Ra&&(Ka=Ha=!1);var Za=H=K=0,Ia=0,$a=3;Qa&&($a=Xa?8:6);Ha&&(K=$a,$a++);Ka&&(H=$a,$a++);Ra&&(Ia=$a,$a+=4);bb&&
($a+=3);Wa&&(Za=$a,$a++);var Ua=z.get_tileData(R).length;0<=z.get_count(R)&&Ua>z.get_count(R)&&(Ua=z.get_count(R));var Ca=0,eb=null,Da=null,ab=-1,cb;z.get_sheet(R).__bitmap.__sync();cb=z.get_sheet(R).__bitmap.image.get_src();Ya&&(g.context.globalCompositeOperation="lighter");for(;Ca<Ua;){var Sa=Qa?-1:z.get_tileData(R)[Ca+2]|0;Qa||Sa==ab?Qa&&(eb=z.get_sheet(R).__rectTile,eb.setTo(z.get_tileData(R)[Ca+2],z.get_tileData(R)[Ca+3],z.get_tileData(R)[Ca+4],z.get_tileData(R)[Ca+5]),Da=z.get_sheet(R).__point,
Xa?Da.setTo(z.get_tileData(R)[Ca+6],z.get_tileData(R)[Ca+7]):Da.setTo(0,0)):(eb=z.get_sheet(R).__tileRects[Sa],Da=z.get_sheet(R).__centerPoints[Sa],ab=Sa);if(null!=eb&&0<eb.width&&0<eb.height&&null!=Da){g.context.save();g.context.translate(z.get_tileData(R)[Ca]-Ta,z.get_tileData(R)[Ca+1]-Va);Ka&&g.context.rotate(z.get_tileData(R)[Ca+H]);var Na=1;Ha&&(Na=z.get_tileData(R)[Ca+K]);Ra&&g.context.transform(z.get_tileData(R)[Ca+Ia],z.get_tileData(R)[Ca+Ia+1],z.get_tileData(R)[Ca+Ia+2],z.get_tileData(R)[Ca+
Ia+3],0,0);Wa&&(g.context.globalAlpha=z.get_tileData(R)[Ca+Za]);g.context.imageSmoothingEnabled=z.get_smooth(R);g.context.drawImage(cb,eb.x,eb.y,eb.width,eb.height,-Da.x*Na,-Da.y*Na,eb.width*Na,eb.height*Na);g.context.restore()}Ca+=$a}Ya&&(g.context.globalCompositeOperation="source-over");break;default:c.skip(f)}}}catch(db){if("__break__"!=db)throw db;}0<g.fillCommands.get_length()&&g.endFill();0<g.strokeCommands.get_length()&&g.endStroke();c.destroy();a.__bitmap=fb.fromCanvas(a.__canvas)}a.set___dirty(!1)}};
g.renderMask=function(a,b){if(0!=a.__commands.get_length()){g.context=b.context;for(var c=new gb(a.__commands),d=0,e=a.__commands.types;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:f=c.readCubicCurveTo();g.context.bezierCurveTo(u.get_controlX1(f),u.get_controlY1(f),u.get_controlX2(f),u.get_controlY2(f),u.get_anchorX(f),u.get_anchorY(f));u.get_anchorX(f);u.get_anchorY(f);break;case 4:f=c.readCurveTo();g.context.quadraticCurveTo(I.get_controlX(f),I.get_controlY(f),I.get_anchorX(f),I.get_anchorY(f));
I.get_anchorX(f);I.get_anchorY(f);break;case 5:f=c.readDrawCircle();g.context.arc(Q.get_x(f),Q.get_y(f),Q.get_radius(f),0,2*Math.PI,!0);break;case 6:var h=c.readDrawEllipse(),f=N.get_x(h),k=N.get_y(h),l=N.get_width(h),m=N.get_height(h),f=f-0,k=k-0,h=l/2*.5522848,p=m/2*.5522848,q=f+l,n=k+m,l=f+l/2,m=k+m/2;g.context.moveTo(f,m);g.context.bezierCurveTo(f,m-p,l-h,k,l,k);g.context.bezierCurveTo(l+h,k,q,m-p,q,m);g.context.bezierCurveTo(q,m+p,l+h,n,l,n);g.context.bezierCurveTo(l-h,n,f,m+p,f,m);break;case 8:f=
c.readDrawRect();g.context.rect(A.get_x(f),A.get_y(f),A.get_width(f),A.get_height(f));break;case 9:f=c.readDrawRoundRect();g.drawRoundRect(y.get_x(f),y.get_y(f),y.get_width(f),y.get_height(f),y.get_ellipseWidth(f),y.get_ellipseHeight(f));break;case 16:f=c.readLineTo();g.context.lineTo(ha.get_x(f),ha.get_y(f));ha.get_x(f);ha.get_y(f);break;case 17:f=c.readMoveTo();g.context.moveTo(X.get_x(f),X.get_y(f));X.get_x(f);X.get_y(f);break;default:c.skip(f)}}c.destroy()}};var xc=function(a){this.renderSession=
a};h["openfl._internal.renderer.canvas.CanvasMaskManager"]=xc;xc.__name__=!0;xc.__super__=Za;xc.prototype=v(Za.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getWorldTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},
popRect:function(){this.renderSession.context.restore()},__class__:xc});var yc=function(a,b,c){lb.call(this,a,b);this.context=c;this.renderSession=new dd;this.renderSession.context=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new xc(this.renderSession)};h["openfl._internal.renderer.canvas.CanvasRenderer"]=yc;yc.__name__=!0;yc.__super__=lb;yc.prototype=v(lb.prototype,{render:function(a){this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=
1;!a.__transparent&&a.__clearBeforeRender?(this.context.fillStyle=a.__colorString,this.context.fillRect(0,0,a.stageWidth,a.stageHeight)):a.__transparent&&a.__clearBeforeRender&&this.context.clearRect(0,0,a.stageWidth,a.stageHeight);a.__renderCanvas(this.renderSession)},__class__:yc});var fd=function(a){this.renderSession=a};h["openfl._internal.renderer.dom.DOMMaskManager"]=fd;fd.__name__=!0;fd.__super__=Za;fd.prototype=v(Za.prototype,{pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},
__class__:fd});var ma=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};h["openfl.geom.Rectangle"]=ma;ma.__name__=!0;ma.prototype={clone:function(){return new ma(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()&&b<this.get_bottom()},containsPoint:function(a){return this.contains(a.x,a.y)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},
setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,
f=e,g=b.a*(this.x+this.width)+b.c*this.y,h=b.b*(this.x+this.width)+b.d*this.y;g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);g=b.a*(this.x+this.width)+b.c*(this.y+this.height);h=b.b*(this.x+this.width)+b.d*(this.y+this.height);g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);g=b.a*this.x+b.c*(this.y+this.height);h=b.b*this.x+b.d*(this.y+this.height);g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+
this.width},get_topLeft:function(){return new ca(this.x,this.y)},__class__:ma,__properties__:{get_topLeft:"get_topLeft",get_right:"get_right",get_bottom:"get_bottom"}};var Sd=function(){};h["openfl._internal.renderer.opengl.utils.RenderTexture"]=Sd;Sd.__name__=!0;var Rb=function(){ga.call(this);null==M.application&&(M.application=this)};h["openfl.display.Application"]=Rb;Rb.__name__=!0;Rb.__super__=ga;Rb.prototype=v(ga.prototype,{create:function(a){this.config=a;this.backend.create(a);if(null!=a){Object.prototype.hasOwnProperty.call(a,
"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new zc(a[0]);this.createWindow(a);break}if(null==this.preloader||this.preloader.complete)this.onPreloadComplete()}},__class__:Rb});var Ab=function(a,b,c){null==c&&(c=!1);C.call(this);this.bitmapData=a;this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=1)};h["openfl.display.Bitmap"]=Ab;Ab.__name__=!0;Ab.__super__=C;Ab.prototype=v(C.prototype,{__getBounds:function(a,
b){if(null!=this.bitmapData){var c=ma.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();c=this.__worldTransform;var g=c.a*c.d-c.b*c.c;c=0==g?-c.tx:1/g*(c.c*(c.ty-b)+c.d*(a-c.tx));var g=this.__worldTransform,h=g.a*g.d-g.b*g.c;a=0==h?-g.ty:1/h*
(g.a*(b-g.ty)+g.b*(g.tx-a));return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?(null==d||e||d.push(f),!0):!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getWorldTransform();var c=this.__worldTransform,d=c.a*c.d-c.b*c.c,c=0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),d=this.__worldTransform,e=d.a*d.d-d.b*d.c,d=0==e?-d.ty:1/e*(d.a*(b-d.ty)+d.b*(d.tx-a));return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){if(this.__renderable&&
!(0>=this.__worldAlpha)){var b=a.cairo;if(null!=this.bitmapData&&this.bitmapData.__isValid){null!=this.__mask&&a.maskManager.pushMask(this.__mask);var c=this.__renderTransform,d=this.get_scrollRect();a.roundPixels?(c=c.__toMatrix3(),c.tx=Math.round(c.tx),c.ty=Math.round(c.ty),b.set_matrix(c)):b.set_matrix(c.__toMatrix3());c=this.bitmapData.getSurface();null!=c&&(c=Jb.createForSurface(c),Jb.set_filter(c,this.smoothing?1:3),null!=d?(b.pushGroup(),b.set_source(c),b.newPath(),b.rectangle(d.x,d.y,d.width,
d.height),b.fill(),b.popGroupToSource()):b.set_source(c),1==this.__worldAlpha?b.paint():b.paintWithAlpha(this.__worldAlpha));null!=this.__mask&&a.maskManager.popMask()}}},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){var b=a.context;if(null!=this.bitmapData&&this.bitmapData.__isValid){null!=this.__mask&&a.maskManager.pushMask(this.__mask);this.bitmapData.__sync();b.globalAlpha=this.__worldAlpha;
var c=this.__renderTransform,d=this.get_scrollRect();a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);this.smoothing||(b.mozImageSmoothingEnabled=!1,b.msImageSmoothingEnabled=!1,b.imageSmoothingEnabled=!1);null==d?b.drawImage(this.bitmapData.image.get_src(),0,0):b.drawImage(this.bitmapData.image.get_src(),d.x,d.y,d.width,d.height,d.x,d.y,d.width,d.height);this.smoothing||(b.mozImageSmoothingEnabled=!0,b.msImageSmoothingEnabled=!0,b.imageSmoothingEnabled=
!0);null!=this.__mask&&a.maskManager.popMask()}}},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new ma),this.__getBounds(a.__bounds,ba.__identity),C.prototype.__updateMask.call(this,a))},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*
this.get_scaleY():0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},__class__:Ab});var fb=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;a=null==a?0:a;b=null==b?0:b;a=0>a?0:a;b=0>b?0:b;this.width=a;this.height=b;this.rect=new ma(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new ja(null,0,0,a,b,d<<8|d>>24&255),this.image.set_transparent(c),this.__isValid=!0);this.__createUVs();this.__worldTransform=
new ba;this.__worldColorTransform=new Da};h["openfl.display.BitmapData"]=fb;fb.__name__=!0;fb.__interfaces__=[od];fb.fromBytes=function(a,b,c){var d=new fb(0,0,!0);ja.fromBytes(bb.toBytes(a),function(a){d.__fromImage(a);if(null!=b){ka.convertToCanvas(a);ka.createImageData(a);for(var f=a.buffer.data,g=0,h=bb.get_length(b);g<h;){var k=g++,l=b.readUnsignedByte();f[4*k+3]=l}a.dirty=!0}null!=c&&c(d)});return d};fb.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new fb(0,0,b);c.__fromImage(ja.fromCanvas(a));
c.image.set_transparent(b);return c};fb.prototype={getSurface:function(){if(!this.__isValid)return null;null==this.__surface&&(this.__surface=yd.fromImage(this.image));return this.__surface},__createUVs:function(a,b,c,d,e,f,g,h){null==h&&(h=1);null==g&&(g=0);null==f&&(f=1);null==e&&(e=1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);null==this.__uvData&&(this.__uvData=new gd);this.__uvData.x0=a;this.__uvData.y0=b;this.__uvData.x1=c;this.__uvData.y1=d;this.__uvData.x2=e;this.__uvData.y2=
f;this.__uvData.x3=g;this.__uvData.y3=h},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new ma(0,0,a.width,a.height),this.__isValid=!0)},__sync:function(){ka.sync(this.image,!1)},__class__:fb};var gd=function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0};h["openfl.display.TextureUvs"]=gd;gd.__name__=!0;gd.prototype={__class__:gd};var Bd={};h["openfl.display._CapsStyle.CapsStyle_Impl_"]=Bd;Bd.__name__=!0;Bd.toString=
function(a){switch(a){case 0:a="none";break;case 1:a="round";break;case 2:a="square";break;default:a=null}return a};var hd=function(){};h["openfl.display.FrameLabel"]=hd;hd.__name__=!0;hd.__super__=L;hd.prototype=v(L.prototype,{__class__:hd});var Xb=function(){this.__dirty=!0;this.__commands=new Lb;this.__positionY=this.__positionX=this.__strokePadding=0;this.__hardware=!0;this.moveTo(0,0)};h["openfl.display.Graphics"]=Xb;Xb.__name__=!0;Xb.prototype={beginFill:function(a,b){null==b&&(b=1);null==a&&
(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},clear:function(){this.__commands.clear();this.__strokePadding=0;null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null);this.__visible=!1;this.__hardware=!0;this.moveTo(0,0)},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},
moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__getBounds:function(a,b){if(null!=this.__bounds){var c=ma.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;var e=d.a*d.d-d.b*d.c,e=0==e?-d.tx:1/e*(d.c*(d.ty-b)+d.d*(a-d.tx)),f=d.a*d.d-d.b*d.c;a=0==f?-d.ty:1/f*(d.a*(b-d.ty)+d.b*(d.tx-a));return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?g.hitTest(this,
e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new ma(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},set___dirty:function(a){if(a&&
null!=this.__owner){var b=this.__owner;b.__renderDirty||(b.__updateCachedBitmap=!0,b.__updateFilters=null!=b.get_filters()&&0<b.get_filters().length,b.__renderDirty=!0,C.__worldRenderDirty++)}return this.__dirty=a},__class__:Xb,__properties__:{set___dirty:"set___dirty"}};var Ad={};h["openfl.display._JointStyle.JointStyle_Impl_"]=Ad;Ad.__name__=!0;Ad.toString=function(a){switch(a){case 0:a="bevel";break;case 1:a="miter";break;case 2:a="round";break;default:a=null}return a};var Zb=function(){ta.call(this);
this.contentLoaderInfo=Va.create(this)};h["openfl.display.Loader"]=Zb;Zb.__name__=!0;Zb.__super__=ta;Zb.prototype=v(ta.prototype,{loadBytes:function(a,b){var c=new bd;c.doWork.add(function(b){fb.fromBytes(a,null,function(a){c.sendComplete(a)})});c.onComplete.add(l(this,this.BitmapData_onLoad));c.run()},BitmapData_onLoad:function(a){this.contentLoaderInfo.content=new Ab(a);this.content=this.contentLoaderInfo.content;this.addChild(this.contentLoaderInfo.content);a=new x("complete");a.target=this.contentLoaderInfo;
a.currentTarget=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},__class__:Zb});var Sb=function(a){xa.call(this);if(null!=a&&(this.display=a,M.current.addChild(a),F.__instanceof(a,Ja)))F.__cast(a,Ja).onInit()};h["openfl.display.Preloader"]=Sb;Sb.__name__=!0;Sb.__super__=xa;Sb.prototype=v(xa.prototype,{load:function(a,b){for(var c=[],d=null,e=0,f=a.length;e<f;){var g=e++,d=a[g];switch(b[g]){case "MUSIC":case "SOUND":d=sb.withoutExtension(d),G.remove(c,d)||this.total++,c.push(d)}}for(e=
0;e<c.length;)f=c[e],++e,d=new mb,d.addEventListener("complete",l(this,this.sound_onComplete)),d.addEventListener("ioError",l(this,this.sound_onIOError)),d.load(new id(f+".ogg"));xa.prototype.load.call(this,a,b)},start:function(){null!=this.display&&F.__instanceof(this.display,Ja)?(this.display.addEventListener("complete",l(this,this.display_onComplete)),F.__cast(this.display,Ja).onLoaded()):xa.prototype.start.call(this)},update:function(a,b){if(null!=this.display&&F.__instanceof(this.display,Ja))F.__cast(this.display,
Ja).onUpdate(a,b)},display_onComplete:function(a){this.display.removeEventListener("complete",l(this,this.display_onComplete));M.current.removeChild(this.display);M.current.stage.set_focus(null);this.display=null;xa.prototype.start.call(this)},sound_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},sound_onIOError:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},
__class__:Sb});var Td=function(){};h["openfl.display.Shader"]=Td;Td.__name__=!0;var Nb=function(a,b){ta.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.stageWidth=a.__width*a.__scale|0;this.stageHeight=a.__height*a.__scale|0;this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=
!1;this.quality=1;this.scaleMode=2;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__mouseOutStack=[];var c;c=new Kb;c.data=[];c.length=0;c.fixed=!1;c=this.stage3Ds=c;var d=new Ac;if(!c.fixed){c.length++;if(c.data.length<c.length){var e=Array(c.data.length+10);Cb.blit(c.data,0,e,0,c.data.length);c.data=e}c.data[c.length-1]=d}c.length;null==M.current.stage&&
this.stage.addChild(M.current)};h["openfl.display.Stage"]=Nb;Nb.__name__=!0;Nb.__interfaces__=[hc];Nb.__super__=ta;Nb.prototype=v(ta.prototype,{globalToLocal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){E.__onGamepadAxisMove(a,b,c)},onGamepadButtonDown:function(a,b){E.__onGamepadButtonDown(a,b)},onGamepadButtonUp:function(a,b){E.__onGamepadButtonUp(a,b)},onGamepadConnect:function(a){E.__onGamepadConnect(a)},onGamepadDisconnect:function(a){E.__onGamepadDisconnect(a)},onJoystickAxisMove:function(a,
b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyDown",b,c)},onKeyUp:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyUp",b,c)},onModuleExit:function(a){null!=this.window&&(a=new x("deactivate"),this.__broadcast(a,!0))},onMouseDown:function(a,
b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseMove:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouse("mouseMove",b*a.__scale|0,c*a.__scale|0,0)},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;
default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseWheel:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a){var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);
var d=new nb("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__broadcast(d,!0)}},onTouchMove:function(a){this.__onTouch("touchMove",a)},onTouchEnd:function(a){this.__onTouch("touchEnd",a)},onTouchStart:function(a){this.__onTouch("touchBegin",a)},onWindowActivate:function(a){null!=this.window&&this.window==a&&(a=new x("activate"),this.__broadcast(a,!0))},onWindowClose:function(a){this.window==a&&(this.window=null)},onWindowCreate:function(a){if(null!=this.window&&this.window==
a&&null!=a.renderer)switch(a=a.renderer.context,a[1]){case 1:this.__renderer=new yc(this.stageWidth,this.stageHeight,a[2])}},onWindowDeactivate:function(a){null!=this.window&&this.window==a&&(a=new x("deactivate"),this.__broadcast(a,!0))},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){null!=this.window&&this.window==a&&(a=new ob("focusIn",!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFocusOut:function(a){null!=this.window&&this.window==a&&(a=new ob("focusOut",
!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFullscreen:function(a){null!=this.window&&this.window==a&&2==this.__displayState&&(this.__displayState=1)},onWindowLeave:function(a){null!=this.window&&this.window==a&&this.__dispatchEvent(new x("mouseLeave"))},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){null!=this.window&&this.window==a&&(2==this.__displayState||a.__fullscreen||(this.__displayState=2),this.stageWidth=b*a.__scale|0,this.stageHeight=
c*a.__scale|0,null!=this.__renderer&&this.__renderer.resize(this.stageWidth,this.stageHeight),a=new x("resize"),this.__broadcast(a,!1))},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,C.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=
!0,C.__worldRenderDirty++)),!this.__rendering)){this.__rendering=!0;this.__broadcast(new x("enterFrame"),!0);this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new x("render"),!0));this.__renderable=!0;this.__enterFrame(this.__deltaTime);this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){a=a.context;switch(a[1]){case 4:a=a[2],F.__cast(this.__renderer,wc).cairo=a,this.__renderer.renderSession.cairo=a}this.__renderer.render(this)}this.__rendering=!1}},update:function(a){this.__deltaTime=
a},__drag:function(a){var b=this.__dragObject.parent;null!=b&&(a=b.globalToLocal(a));b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c=b.length;if(0==c)a.eventPhase=
2,a.target.__broadcast(a,!1);else{a.eventPhase=1;a.target=b[b.length-1];for(var d=0,e=c-1;d<e;){var f=d++;b[f].__broadcast(a,!1);if(a.__isCanceled)return}a.eventPhase=2;a.target.__broadcast(a,!1);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,c-=2;0<=c;){b[c].__broadcast(a,!1);if(a.__isCanceled)break;c--}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__onKey:function(a,b,c){Y.__altKey=W.get_altKey(c);Y.__commandKey=W.get_metaKey(c);Y.__ctrlKey=W.get_ctrlKey(c);Y.__shiftKey=W.get_shiftKey(c);
var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=
3;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;
break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=
73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;
break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;
case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=
110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var f=Cd.__getCharCode(b,W.get_shiftKey(c));c=new Bc(a,!0,!1,f,b,e,this.__macKeyboard?W.get_ctrlKey(c)||W.get_metaKey(c):
W.get_ctrlKey(c),W.get_altKey(c),W.get_shiftKey(c),W.get_ctrlKey(c),W.get_metaKey(c));d.reverse();this.__fireEvent(c,d);c.__isCanceled&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onMouse:function(a,b,c,d){if(!(2<d)){this.__mouseX=b;this.__mouseY=c;var e=[],f=null,g=new ca(b,c);this.__hitTest(b,c,!0,e,!0,this)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);b=null;switch(a){case "mouseDown":f.get_tabEnabled()?this.set_focus(f):this.set_focus(null);this.__mouseDownLeft=
f;break;case "middleMouseDown":this.__mouseDownMiddle=f;break;case "rightMouseDown":this.__mouseDownRight=f;break;case "mouseUp":this.__mouseDownLeft==f&&(b="click");this.__mouseDownLeft=null;break;case "middleMouseUp":this.__mouseDownMiddle==f&&(b="middleClick");this.__mouseDownMiddle=null;break;case "rightMouseUp":this.__mouseDownRight==f&&(b="rightClick"),this.__mouseDownRight=null}this.__fireEvent(Y.__create(a,d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e);null!=b&&(this.__fireEvent(Y.__create(b,
d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e),"mouseUp"==a&&F.__cast(f,sa).doubleClickEnabled&&(a=M.getTimer(),500>a-this.__lastClickTime?(this.__fireEvent(Y.__create("doubleClick",d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e),this.__lastClickTime=0):this.__lastClickTime=a));a=null;for(f=0;f<e.length;)if(a=e[f],++f,a=a.__getCursor(),null!=a){Xa.set_cursor(a);break}null==a&&Xa.set_cursor(r.ARROW);a=0;for(b=this.__mouseOutStack;a<b.length;)c=b[a],++a,-1==G.indexOf(e,
c,0)&&(G.remove(this.__mouseOutStack,c),f=c.globalToLocal(g),f=Y.__create("mouseOut",d,this.__mouseX,this.__mouseY,f,c),f.bubbles=!1,c.__dispatchEvent(f));for(a=0;a<e.length;)b=e[a],++a,-1==G.indexOf(this.__mouseOutStack,b,0)&&(b.hasEventListener("mouseOver")&&(f=b.globalToLocal(g),f=Y.__create("mouseOver",d,this.__mouseX,this.__mouseY,f,b),f.bubbles=!1,b.__dispatchEvent(f)),b.hasEventListener("mouseOut")&&this.__mouseOutStack.push(b));null!=this.__dragObject&&this.__drag(g)}},__onMouseWheel:function(a,
b){var c=this.__mouseX,d=this.__mouseY,e=[];this.__hitTest(c,d,!1,e,!0,this)||(e=[this]);var f=e[e.length-1],c=new ca(c,d),d=b|0;this.__fireEvent(Y.__create("mouseWheel",0,this.__mouseX,this.__mouseY,f==this?c:f.globalToLocal(c),f,d),e)},__onTouch:function(a,b){var c=new ca(b.x*this.stageWidth,b.y*this.stageHeight);this.__mouseX=c.x;this.__mouseY=c.y;var d=[];if(this.__hitTest(this.__mouseX,this.__mouseY,!1,d,!0,this)){var e=d[d.length-1];null==e&&(e=this);c=e.globalToLocal(c);e=pb.__create(a,null,
this.__mouseX,this.__mouseY,c,e);e.touchPointID=b.id;e.isPrimaryTouchPoint=!0;this.__fireEvent(e,d)}else d=pb.__create(a,null,this.__mouseX,this.__mouseY,c,this),d.touchPointID=b.id,d.isPrimaryTouchPoint=!0,this.__fireEvent(d,[this.stage])},__update:function(a,b,c){if(a)0<C.__worldTransformDirty&&(ta.prototype.__update.call(this,!0,b,c),b&&(C.__worldTransformDirty=0,this.__dirty=!0));else if(0<C.__worldTransformDirty||this.__dirty||0<C.__worldRenderDirty)ta.prototype.__update.call(this,!1,b,c),b&&
(C.__worldTransformDirty=0,C.__worldRenderDirty=0,this.__dirty=!1)},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+La.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__focus=a;if(null!=b){var c=new ob("focusOut",!0,!1,this.__focus,!1,0);this.__stack=
[];b.__getInteractive(this.__stack);this.__stack.reverse();this.__fireEvent(c,this.__stack)}null!=this.__focus&&(b=new ob("focusIn",!0,!1,b,!1,0),this.__stack=[],a.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(b,this.__stack))}return this.__focus},__class__:Nb,__properties__:v(ta.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});var Ac=function(){L.call(this)};h["openfl.display.Stage3D"]=Ac;Ac.__name__=!0;Ac.__super__=L;Ac.prototype=
v(L.prototype,{__class__:Ac});var Dd=function(){};h["openfl.display.Tilesheet"]=Dd;Dd.__name__=!0;Dd.prototype={__class__:Dd};var zc=function(a){vb.call(this,a)};h["openfl.display.Window"]=zc;zc.__name__=!0;zc.__super__=vb;zc.prototype=v(vb.prototype,{create:function(a){vb.prototype.create.call(this,a);this.stage=new Nb(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);a.addModule(this.stage)},__class__:zc});var Ob=function(a,b){null==b&&(b=0);null==
a&&(a="");this.message=a;this.errorID=b;this.name="Error"};h["openfl.errors.Error"]=Ob;Ob.__name__=!0;Ob.prototype={toString:function(){return null!=this.message?this.message:"Error"},__class__:Ob};var xb=function(a){null==a&&(a="");Ob.call(this,a);this.name="IOError"};h["openfl.errors.IOError"]=xb;xb.__name__=!0;xb.__super__=Ob;xb.prototype=v(Ob.prototype,{__class__:xb});var Cc=function(){xb.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};h["openfl.errors.EOFError"]=
Cc;Cc.__name__=!0;Cc.__super__=xb;Cc.prototype=v(xb.prototype,{__class__:Cc});var x=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=2};h["openfl.events.Event"]=x;x.__name__=!0;x.prototype={__class__:x};var yb=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);x.call(this,a,b,c);this.activating=d};h["openfl.events.ActivityEvent"]=yb;yb.__name__=!0;yb.__super__=x;yb.prototype=v(x.prototype,{__class__:yb});var nb=function(a,
b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);x.call(this,a,b,c);this.text=d};h["openfl.events.TextEvent"]=nb;nb.__name__=!0;nb.__super__=x;nb.prototype=v(x.prototype,{__class__:nb});var zb=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);nb.call(this,a,b,c,d);this.errorID=e};h["openfl.events.ErrorEvent"]=zb;zb.__name__=!0;zb.__super__=nb;zb.prototype=v(nb.prototype,{__class__:zb});var Vb=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};
h["openfl.events._EventDispatcher.Listener"]=Vb;Vb.__name__=!0;Vb.prototype={match:function(a,b){return P.compareMethods(this.callback,a)&&this.useCapture==b},__class__:Vb};var ob=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);x.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=d};h["openfl.events.FocusEvent"]=ob;ob.__name__=!0;ob.__super__=x;ob.prototype=v(x.prototype,{__class__:ob});var Ub=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);
null==c&&(c=!1);null==b&&(b=!1);yb.call(this,a,b,c);this.fullScreen=d;this.interactive=e};h["openfl.events.FullScreenEvent"]=Ub;Ub.__name__=!0;Ub.__super__=yb;Ub.prototype=v(yb.prototype,{__class__:Ub});var Pb=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);x.call(this,a,b,c);this.device=d};h["openfl.events.GameInputEvent"]=Pb;Pb.__name__=!0;Pb.__super__=x;Pb.prototype=v(x.prototype,{__class__:Pb});var Dc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);zb.call(this,
a,b,c,d,e)};h["openfl.events.IOErrorEvent"]=Dc;Dc.__name__=!0;Dc.__super__=zb;Dc.prototype=v(zb.prototype,{__class__:Dc});var Bc=function(a,b,c,d,e,f,g,h,k,l,p){null==p&&(p=!1);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);x.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=g;this.altKey=h;this.shiftKey=k;this.controlKey=l;this.commandKey=p};h["openfl.events.KeyboardEvent"]=Bc;Bc.__name__=
!0;Bc.__super__=x;Bc.prototype=v(x.prototype,{__class__:Bc});var Y=function(a,b,c,d,e,f,g,h,k,l,p,q,n){null==n&&(n=0);null==q&&(q=!1);null==p&&(p=0);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);x.call(this,a,b,c);this.shiftKey=k;this.altKey=h;this.ctrlKey=g;this.bubbles=b;this.relatedObject=f;this.delta=p;this.localX=d;this.localY=e;this.buttonDown=l;this.commandKey=q;this.clickCount=n};h["openfl.events.MouseEvent"]=
Y;Y.__name__=!0;Y.__altKey=null;Y.__buttonDown=null;Y.__commandKey=null;Y.__ctrlKey=null;Y.__shiftKey=null;Y.__create=function(a,b,c,d,e,f,g){null==g&&(g=0);switch(a){case "mouseDown":Y.__buttonDown=!0;break;case "mouseUp":Y.__buttonDown=!1}a=new Y(a,!0,!1,e.x,e.y,null,Y.__ctrlKey,Y.__altKey,Y.__shiftKey,Y.__buttonDown,g,Y.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};Y.__super__=x;Y.prototype=v(x.prototype,{__class__:Y});var pb=function(a,b,c,d,e,f,g,h,k,l,p,q,n,r,t,u,v,y,z,A){null==u&&
(u=!1);null==t&&(t=!1);null==r&&(r=!1);null==n&&(n=!1);null==q&&(q=!1);null==l&&(l=0);null==k&&(k=0);null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);x.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=g;this.sizeX=h;this.sizeY=k;this.pressure=l;this.relatedObject=p;this.ctrlKey=q;this.altKey=n;this.shiftKey=r;this.commandKey=t;this.controlKey=u};h["openfl.events.TouchEvent"]=pb;pb.__name__=!0;pb.__create=
function(a,b,c,d,e,f){a=new pb(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=f;return a};pb.__super__=x;pb.prototype=v(x.prototype,{__class__:pb});var Yb=function(){};h["openfl.filters.BitmapFilter"]=Yb;Yb.__name__=!0;Yb.__expandBounds=function(a,b,c){var d=ma.__temp;d.setEmpty();for(var e=0;e<a.length;){var f=a[e];++e;f.__growBounds(d)}d.__transform(d,c);b.__expand(d.x,d.y,d.width,d.height)};Yb.prototype={__growBounds:function(a){},__class__:Yb};var Ed=function(){};h["openfl.geom.Matrix3D"]=
Ed;Ed.__name__=!0;Ed.prototype={__class__:Ed};var Fc=function(a){this.__colorTransform=new Da;this.concatenatedColorTransform=new Da;this.pixelBounds=new ma;this.__displayObject=a;this.__hasMatrix=!0};h["openfl.geom.Transform"]=Fc;Fc.__name__=!0;Fc.prototype={get_colorTransform:function(){return this.__colorTransform},__class__:Fc,__properties__:{get_colorTransform:"get_colorTransform"}};var Ud=function(){};h["openfl.geom.Vector3D"]=Ud;Ud.__name__=!0;var Vd=function(){};h["openfl.media.ID3Info"]=
Vd;Vd.__name__=!0;var mb=function(a,b){L.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.id3=null;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};h["openfl.media.Sound"]=mb;mb.__name__=!0;mb.__super__=L;mb.prototype=v(L.prototype,{load:function(a,b){this.url=a.url;this.__soundID=sb.withoutExtension(a.url);var c=mb.__registeredSounds,d=this.__soundID;(null!=B[d]?c.existsReserved(d):c.h.hasOwnProperty(d))?this.dispatchEvent(new x("complete")):(c=mb.__registeredSounds,d=this.__soundID,
null!=B[d]?c.setReserved(d,!0):c.h[d]=!0,createjs.Sound.addEventListener("fileload",l(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",l(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID))},SoundJS_onFileLoad:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",l(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",l(this,this.SoundJS_onFileError)),this.dispatchEvent(new x("complete")))},
SoundJS_onFileError:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",l(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",l(this,this.SoundJS_onFileError)),this.dispatchEvent(new Dc("ioError")))},__class__:mb});var jd=function(a){L.call(this,this);this.rightPeak=this.leftPeak=1;null!=a&&(this.__soundInstance=a,this.__soundInstance.addEventListener("complete",l(this,this.source_onComplete)),this.__isValid=!0)};h["openfl.media.SoundChannel"]=
jd;jd.__name__=!0;jd.__super__=L;jd.prototype=v(L.prototype,{stop:function(){this.__isValid&&this.__soundInstance.stop()},__dispose:function(){this.__isValid&&(this.__soundInstance.stop(),this.__soundInstance=null,this.__isValid=!1)},get_position:function(){return this.__isValid?this.__soundInstance.getPosition():0},set_position:function(a){if(!this.__isValid)return 0;this.__soundInstance.setPosition(a|0);return this.__soundInstance.getPosition()},get_soundTransform:function(){return this.__isValid?
new Ec(this.__soundInstance.getVolume(),this.__soundInstance.getPan()):new Ec},set_soundTransform:function(a){if(!this.__isValid)return a;this.__soundInstance.setVolume(a.volume);this.__soundInstance.setPan(a.pan);return a},soundInstance_onComplete:function(a){this.dispatchEvent(new x("soundComplete"))},source_onComplete:function(){this.__dispose();this.dispatchEvent(new x("soundComplete"))},__class__:jd,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",
set_position:"set_position",get_position:"get_position"}});var Wd=function(){};h["openfl.media.SoundLoaderContext"]=Wd;Wd.__name__=!0;var Ec=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};h["openfl.media.SoundTransform"]=Ec;Ec.__name__=!0;Ec.prototype={__class__:Ec};var id=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method=Fd.toString(1);this.contentType=null};h["openfl.net.URLRequest"]=
id;id.__name__=!0;id.prototype={__class__:id};var Xd=function(){};h["openfl.net.URLRequestHeader"]=Xd;Xd.__name__=!0;var Fd={};h["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=Fd;Fd.__name__=!0;Fd.toString=function(a){switch(a){case 0:a="DELETE";break;case 1:a="GET";break;case 2:a="HEAD";break;case 3:a="OPTIONS";break;case 4:a="POST";break;case 5:a="PUT";break;default:a=null}return a};var Ya=function(){};h["openfl.system.Capabilities"]=Ya;Ya.__name__=!0;Ya.__properties__={get_screenDPI:"get_screenDPI"};
Ya.screenDPI=null;Ya.get_screenDPI=function(){if(0<Ya.screenDPI)return Ya.screenDPI;var a=window.document.getElementsByTagName("body")[0],b=window.document.createElement("div");b.style.width=b.style.height="1in";b.style.padding=b.style.margin="0px";b.style.position="absolute";b.style.top="-100%";a.appendChild(b);Ya.screenDPI=b.offsetWidth;a.removeChild(b);return Ya.screenDPI};var Yd=function(){};h["openfl.system.LoaderContext"]=Yd;Yd.__name__=!0;var Zd=function(){};h["openfl.text.TextFormat"]=Zd;
Zd.__name__=!0;var E=function(){};h["openfl.ui.GameInput"]=E;E.__name__=!0;E.__getDevice=function(a){if(null==a)return null;if(null==E.__devices.h.__keys__[a.__id__]){var b;b=na.__getDeviceData()[a.id].id;var c=na.__getDeviceData();b=new kd(b,c[a.id].id);E.__deviceList.push(b);E.__devices.set(a,b);E.numDevices=E.__deviceList.length}return E.__devices.h[a.__id__]};E.__onGamepadAxisMove=function(a,b,c){a=E.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d=
"LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Ia(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new x("change"))}};E.__onGamepadButtonDown=function(a,b){var c=E.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d=
"Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Ia(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new x("change"))}};E.__onGamepadButtonUp=function(a,
b){var c=E.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+
")"}d=new Ia(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=0;c.dispatchEvent(new x("change"))}};E.__onGamepadConnect=function(a){a=E.__getDevice(a);if(null!=a)for(var b=0,c=E.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new Pb("deviceAdded",null,null,a))}};E.__onGamepadDisconnect=function(a){var b=E.__devices.h[a.__id__];if(null!=b){null!=E.__devices.h.__keys__[a.__id__]&&(G.remove(E.__deviceList,E.__devices.h[a.__id__]),E.__devices.remove(a));E.numDevices=
E.__deviceList.length;a=0;for(var c=E.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new Pb("deviceRemoved",null,null,b))}}};E.__super__=L;E.prototype=v(L.prototype,{__class__:E});var Ia=function(a,b,c,d,e){null==e&&(e=0);L.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};h["openfl.ui.GameInputControl"]=Ia;Ia.__name__=!0;Ia.__super__=L;Ia.prototype=v(L.prototype,{__class__:Ia});var kd=function(a,b){this.__controls=[];this.__button=new U;this.__axis=new U;this.id=
a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new Ia(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new Ia(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};h["openfl.ui.GameInputDevice"]=kd;kd.__name__=!0;kd.prototype={__class__:kd};var Cd=function(){};h["openfl.ui.Keyboard"]=Cd;Cd.__name__=!0;Cd.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;
case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;
case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0};var tc=function(){};h["openfl.ui.Mouse"]=tc;tc.__name__=!0;tc.hide=function(){Xa.hide()};tc.show=function(){Xa.show()};
var bb={};h["openfl.utils._ByteArray.ByteArray_Impl_"]=bb;bb.__name__=!0;bb.__properties__={get_length:"get_length"};bb.fromArrayBuffer=function(a){return qb.fromBytes(da.ofData(a))};bb.toBytes=function(a){return a};bb.get_length=function(a){return a.__length};var ld=function(){};h["openfl.utils.IDataOutput"]=ld;ld.__name__=!0;ld.prototype={__class__:ld};var md=function(){};h["openfl.utils.IDataInput"]=md;md.__name__=!0;md.prototype={__class__:md};var qb=function(a){null==a&&(a=0);var b=da.alloc(a);
da.call(this,b.b.buffer);this.__length=a;this.position=this.__endian=0};h["openfl.utils.ByteArrayData"]=qb;qb.__name__=!0;qb.__interfaces__=[ld,md];qb.fromBytes=function(a){var b=new qb;b.__fromBytes(a);return b};qb.__super__=da;qb.prototype=v(da.prototype,{readUnsignedByte:function(){if(this.position<this.__length){var a=this.position++;return this.b[a]}throw new ea(new Cc);},__fromBytes:function(a){this.b=a.b;this.length=a.length;this.data=a.data;this.__length=a.length},__class__:qb});var Gd=function(){};
h["haxe.lang.Iterator"]=Gd;Gd.__name__=!0;Gd.prototype={__class__:Gd};var Hd=function(){};h["haxe.lang.Iterable"]=Hd;Hd.__name__=!0;Hd.prototype={__class__:Hd};var qc,ee=0;Array.prototype.indexOf&&(G.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});h.Math=Math;String.prototype.__class__=h.String=String;String.__name__=!0;h.Array=Array;Array.__name__=!0;Date.prototype.__class__=h.Date=Date;Date.__name__=["Date"];var he=h.Int={__name__:["Int"]},ie=h.Dynamic={__name__:["Dynamic"]},
Kd=h.Float=Number;Kd.__name__=["Float"];var Ld=h.Bool=Boolean;Ld.__ename__=["Bool"];var je=h.Class={__name__:["Class"]},ke={},B={},sd=nd.ArrayBuffer||Pa;null==sd.prototype.slice&&(sd.prototype.slice=Pa.sliceImpl);var ge=nd.DataView||Mc,rb=nd.Uint8Array||Qa._new;la.__alpha16=new Uint32Array(256);for(var $d=0;256>$d;){var ae=$d++;la.__alpha16[ae]=Math.ceil(257.00392156862745*ae)}la.__clamp=new rb(510);for(var be=0;255>be;){var ce=be++;la.__clamp[ce]=ce}for(var de=255;511>de;){var le=de++;la.__clamp[le]=
255}Object.prototype.hasOwnProperty.call(window,"performance")?t.stamp=function(){return.001*window.performance.now()}:t.stamp=rd.stamp;null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]);C.__instanceCount=0;C.__worldRenderDirty=0;C.__worldTransformDirty=0;Sa.count=0;Ma.i64tmp=new Jc(0,0);F.__toStr={}.toString;Qa.BYTES_PER_ELEMENT=1;Z.cache=new Nc;Z.libraries=new aa;Z.onChange=new pa;Z.initialized=!1;Fb.windowID=0;xa.images=new aa;xa.loaders=new aa;ja.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
ua.devices=new U;ua.onConnect=new Wc;na.devices=new U;na.onConnect=new Xc;ya.onEnd=new Hb;ya.onMove=new Hb;ya.onStart=new Hb;Va.__rootURL=window.document.URL;wb.currentDomain=new wb(null);ba.__identity=new ba;M.current=new uc;K.SIN45=.7071067811865476;K.TAN22=.41421356237309503;g.SIN45=.7071067811865476;g.TAN22=.41421356237309503;g.fillCommands=new Lb;g.strokeCommands=new Lb;ma.__temp=new ma;mb.__registeredSounds=new aa;E.numDevices=0;E.__deviceList=[];E.__devices=new Sa;E.__instances=[];O.main()})("undefined"!=
typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
